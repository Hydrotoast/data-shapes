<!DOCTYPE html>
<html>
  	<head>
       	<title>LDOM (Name and Acronym TBD) Primer</title>
    	<meta charset='utf-8'></meta>
    	<script src='//www.w3.org/Tools/respec/respec-w3c-common' async class='remove'></script>
	    <script class='remove'>
	      var respecConfig = {
	          specStatus: "unofficial",
	          shortName:  "ldom-primer",
	          editors: [
	                {   name:       "Holger Knublauch",
	                    url:        "http://knublauch.com/",
	                    company:    "TopQuadrant, Inc.",
	                    companyURL: "http://topquadrant.com/" },
	                {   name:       "Eric Prud'hommeaux",
	                    url:        "http://www.w3.org/People/Eric/",
	                    company:    "W3C/MIT",
	                    companyURL: "http://www.w3.org/" }
	          ],
	          wg:           "RDF Data Shapes Working Group",
	          wgURI:        "https://www.w3.org/2014/data-shapes/wiki/Main_Page",
	          wgPublicList: "public-data-shapes",
	          wgPatentURI:  "http://www.w3.org/2004/01/pp-impl/424242/status",
	      };
	    </script>
		<style>
			.todo {
				color: red;
			}
		    pre {
				tab-size: 4;
		    }
			th {
				text-align: left;
			}
      .comment {
        /* font-lock-comment-face */
        color: #b22222;
      }
      .constant {
        /* font-lock-constant-face */
        color: #008b8b;
      }
      .function-name {
        /* font-lock-function-name-face */
        color: #0000ff;
      }
      .keyword {
        /* font-lock-keyword-face */
        color: #a020f0;
      }
      .string {
        /* font-lock-string-face */
        color: #8b2252;
      }
      .type {
        /* font-lock-type-face */
        color: #228b22;
      }
      .example {
        display: inline-block;
      }
      .example.wrapper {
        background-color: #fff;
      }
      .example.wrapper pre {
        background-color: #fcfaee;
        margin-left: 0;
        line-height: 1.2;
      }
      .example.wrapper .fail {
        background-color: #fceefa
      }
      .verticalDivider {
        float: left;
        width: .5em;
        border:thin solid #fff; /* disappears without this */
      }

.highlight1     { margin-left: -5px; margin-right: -5px;   border-left: 5px solid rgba(176, 176, 0, .5); border-right: 5px solid rgba(176, 176, 0, .5); } /* font-weight: bold  ;  */
.highlight1.top {    margin-top: -5px;                      border-top: 5px solid rgba(176, 176, 0, .5);                                                } /* font-weight: bold  ;  */
.highlight1.bot { margin-bottom: -5px;                   border-bottom: 5px solid rgba(176, 176, 0, .5);                                                } /* font-weight: bold  ;  */
.lowlight1      { margin-left: -5px; margin-right: -5px;   border-left: 5px solid transparent; border-right: 5px solid transparent;                     } /* font-weight: normal;  */
.lowlight1.top  {    margin-top: -5px;                      border-top: 5px solid transparent;                                                          } /* font-weight: normal;  */
.lowlight1.bot  { margin-bottom: -5px;                   border-bottom: 5px solid transparent;                                                          } /* font-weight: normal;  */
.highlight2     { margin-left: -5px; margin-right: -5px;   border-left: 5px solid rgba(176, 0, 176, .5); border-right: 5px solid rgba(176, 0, 176, .5); } /* font-weight: bold  ;  */
.highlight2.top {    margin-top: -5px;                      border-top: 5px solid rgba(176, 0, 176, .5);                                                } /* font-weight: bold  ;  */
.highlight2.bot { margin-bottom: -5px;                   border-bottom: 5px solid rgba(176, 0, 176, .5);                                                } /* font-weight: bold  ;  */
.lowlight2      { margin-left: -5px; margin-right: -5px;   border-left: 5px solid rgba(127, 127, 127, .07); border-right: 5px solid rgba(127, 127, 127, .07);         } /* font-weight: normal;  */
.lowlight2.top  {    margin-top: -5px;                      border-top: 5px solid rgba(127, 127, 127, .07);                                                           } /* font-weight: normal;  */
.lowlight2.bot  { margin-bottom: -5px;                   border-bottom: 5px solid rgba(127, 127, 127, .07);                                                           } /* font-weight: normal;  */

.highlightBG1   { /* border: 5px solid transparent; */ background-color: #bb0; font-weight: bold; }
.lowlightBG1    { /* border: 5px solid transparent; */ font-weight: normal; }
.highlightBG2   { /* border: 5px solid transparent; */ background-color: #b00; font-weight: bold; }
.lowlightBG2    { /* border: 5px solid transparent; */ font-weight: normal; }

.new            { font-weight: bold; }
.errorSite      { color: red; }
		</style>
    <script src="http://www.w3.org/2013/ShEx/demobits/jquery.min.js" type= "text/javascript"></script>
    <script type="text/javascript"><!--
function prepareHighlight (highlightables, onClass, offClass, slide) {
  if (slide === undefined)
    slide = $("body .namespace").last();
  $.each( highlightables, function( index, value ){
    var elts = slide.find( "."+value );
    elts
  	.mouseenter(function() {
  	    elts.removeClass(offClass).addClass(onClass);
  	})
  	.mouseleave(function() {
  	    elts.removeClass(onClass).addClass(offClass);
  	})
    .addClass(offClass);
  })
}
--> </script>
  	</head>
  	<body>

    	<section id="abstract">
			<p>
				LDOM (Lasagna Dumplings and Ostrich Meatballs) is a grammar for describing RDF graph structures.
        These graph structures are captured as "shapes", which are expected to correspond to nodes in RDF graphs.
				These shapes identify predicates and their associated cardinalities and datatypes.
        Additional constraints can be associated with shapes using SPARQL or other languages which complement LDOM.
        LDOM shapes can be used to communicate data structures associated with some process or interface, generate or validate data, or drive user interfaces.
			</p>
			<p>
				This document introduces LDOM to people familiar with basic concepts of RDF and SPARQL.
				This primer develops examples from an issue tracking application to introduce all major features of LDOM,
				including the construction of shapes and their correspondence with RDF graphs.
				This document can serve as the "Hello, World" example of LDOM.
				This primer is a possible companion to another document (to be written) that serves as a language
				reference and full specification.
			</p>
  	
	  		<div class="todo">
	  			<p>For the ongoing discussion about the potential name of this technology,
	  			see the <a href="https://www.w3.org/2014/data-shapes/wiki/Technology_Name">W3C wiki page</a>.</p>
	  		</div>
		</section>
    
    	<section id="introduction">
      		<h2>Introduction</h2>
      		<p>
      			LDOM (Name and Acronym TBD) fills the role of schema language for linked data.
      			Features of LDOM include:
      		</p>
      		<ul>
      			<li>
	      			An RDF vocabulary to define <a href="#shapes">shapes</a> as structural
	      			declarations of	the <a href="#properties">properties</a> associated with those shapes.
      			</li>
      			<li>
      				<a href="#constraints">Complex constraints</a> can be expressed in extension languages like SPARQL.
      			</li>
      		</ul>
      		<p>
      			LDOM is based on RDF and is compatible with Linked Data principles, making it possible to
      			mix LDOM shapes with other semantic web data.
      		</p>
      		<p>
      			This document uses a running example illustrated in the following UML diagram.
      			The example shapes describe a data structure where there is an Issue which is submitted by a Person.
            These issues can have a status of <code>unassigned</code> or <code>assigned</code>.
      			Issues must have one submitter (a <code>schema:Person</code>) and may be assinged to someone (also a <code>schema:Person</code>) 
            Example data, both conforming and not, is included.
            Some mechanisms by which the instance data may be associated with, or validated against the a shape are descibed later in <a href="#associations">Associating Data with Shapes</a>.
      		</p>
      		<p>
      			LDOM definitions are represented in RDF and can be serialized in multiple RDF formats.
      			The example snippets in this document use Turtle [[turtle]] and JSON-LD [[json-ld]] notation.
      			You should be familiar with basic RDF concepts [[rdf11-concepts]] such as triples and
      			(for the advanced concepts of LDOM) with SPARQL [[sparql11-overview]].
      		</p>
<svg fill-opacity="0" xmlns:xlink="http://www.w3.org/1999/xlink" color-rendering="auto" color-interpolation="auto" stroke="rgb(0,0,0)" text-rendering="auto" stroke-linecap="square" width="466" stroke-miterlimit="10" stroke-opacity="0" shape-rendering="auto" fill="rgb(0,0,0)" stroke-dasharray="none" font-weight="normal" stroke-width="1" height="151" xmlns="http://www.w3.org/2000/svg" font-family="&apos;Dialog&apos;" font-style="normal" stroke-linejoin="miter" font-size="12" stroke-dashoffset="0" image-rendering="auto"
><!--Generated by the Batik Graphics2D SVG Generator--><defs id="genericDefs"
  /><g
  ><defs id="defs1"
    ><linearGradient x1="65" gradientUnits="userSpaceOnUse" x2="65" y1="100" y2="0" id="linearGradient1" spreadMethod="reflect"
      ><stop stop-opacity="1" stop-color="rgb(118,148,200)" offset="0%"
        /><stop stop-opacity="1" stop-color="rgb(238,243,251)" offset="100%"
      /></linearGradient
      ><linearGradient x1="85" gradientUnits="userSpaceOnUse" x2="85" y1="100" y2="0" id="linearGradient2" spreadMethod="reflect"
      ><stop stop-opacity="1" stop-color="rgb(118,148,200)" offset="0%"
        /><stop stop-opacity="1" stop-color="rgb(238,243,251)" offset="100%"
      /></linearGradient
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath1"
      ><path d="M-7 -7 L141 -7 L141 111 L-7 111 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath2"
      ><path d="M0 0 L0 85 L130 85 L130 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath3"
      ><path d="M0 0 L130 0 L130 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath4"
      ><path d="M-7 -7 L181 -7 L181 111 L-7 111 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath5"
      ><path d="M0 0 L0 85 L170 85 L170 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath6"
      ><path d="M0 0 L170 0 L170 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath7"
      ><path d="M-7 -7 L48 -7 L48 26 L-7 26 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath8"
      ><path d="M0 0 L37 0 L37 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath9"
      ><path d="M-7 -7 L50 -7 L50 26 L-7 26 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath10"
      ><path d="M0 0 L39 0 L39 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath11"
      ><path d="M-7 -7 L37 -7 L37 27 L-7 27 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath12"
      ><path d="M0 0 L26 0 L26 16 L0 16 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath13"
      ><path d="M-7 -7 L47 -7 L47 26 L-7 26 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath14"
      ><path d="M0 0 L36 0 L36 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath15"
      ><path d="M-7 -7 L49 -7 L49 26 L-7 26 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath16"
      ><path d="M0 0 L38 0 L38 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath17"
      ><path d="M0 0 L171 0 L171 52 L0 52 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath18"
      ><path d="M0 0 L162 0 L162 112 L0 112 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath19"
      ><path d="M-77 -15 L154 -15 L154 30 L-77 30 L-77 -15 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath20"
      ><path d="M-92 -15 L184 -15 L184 30 L-92 30 L-92 -15 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath21"
      ><path d="M-57 -15 L114 -15 L114 30 L-57 30 L-57 -15 Z"
      /></clipPath
    ></defs
    ><g fill="white" text-rendering="geometricPrecision" fill-opacity="1" stroke-opacity="1" stroke="white"
    ><rect x="0" width="466" height="151" y="0" stroke="none"
    /></g
    ><g font-size="11" transform="translate(332,2)" fill-opacity="1" fill="url(#linearGradient1)" text-rendering="geometricPrecision" font-family="sans-serif" stroke="url(#linearGradient1)" font-weight="bold" stroke-opacity="1"
    ><rect x="0" width="130" height="100" y="0" clip-path="url(#clipPath1)" stroke="none"
    /></g
    ><g font-size="11" stroke-linecap="butt" transform="translate(332,2)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke-linejoin="round" stroke="black" font-weight="bold" stroke-opacity="1" stroke-miterlimit="0"
    ><rect fill="none" x="0" width="130" height="100" y="0" clip-path="url(#clipPath1)"
      /><line y2="15" fill="none" x1="0" clip-path="url(#clipPath1)" x2="130" y1="15"
    /></g
    ><g font-size="11" transform="matrix(1,0,0,1,332,17)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="2" xml:space="preserve" y="14" clip-path="url(#clipPath2)" stroke="none"
      > :name : xsd:string</text
    ></g
    ><g font-size="11" transform="matrix(1,0,0,1,332,17)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    >
<!--
<text x="2" xml:space="preserve" y="29" clip-path="url(#clipPath2)" stroke="none"
      > :givenName : xsd:string</text
      ><text x="2" xml:space="preserve" y="44" clip-path="url(#clipPath2)" stroke="none"
      > :familyName : xsd:string</text
      >
-->
<text x="2" xml:space="preserve" y="59" clip-path="url(#clipPath2)" stroke="none"
      > :mbox : AnyURI</text
    ></g
    ><g font-size="11" transform="translate(332,2)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" font-weight="bold" stroke-opacity="1"
    ><text x="50" xml:space="preserve" y="12" clip-path="url(#clipPath3)" stroke="none"
      >:User</text
    ></g
    ><g font-size="11" transform="translate(42,2)" fill-opacity="1" fill="url(#linearGradient2)" text-rendering="geometricPrecision" font-family="sans-serif" stroke="url(#linearGradient2)" font-weight="bold" stroke-opacity="1"
    ><rect x="0" width="170" height="100" y="0" clip-path="url(#clipPath4)" stroke="none"
    /></g
    ><g font-size="11" stroke-linecap="butt" transform="translate(42,2)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke-linejoin="round" stroke="black" font-weight="bold" stroke-opacity="1" stroke-miterlimit="0"
    ><rect fill="none" x="0" width="170" height="100" y="0" clip-path="url(#clipPath4)"
      /><line y2="15" fill="none" x1="0" clip-path="url(#clipPath4)" x2="170" y1="15"
    /></g
    ><g font-size="11" transform="matrix(1,0,0,1,42,17)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="2" xml:space="preserve" y="14" clip-path="url(#clipPath5)" stroke="none"
      > :status = Assigned|Unassigned</text
    ></g
    ><g font-size="11" transform="matrix(1,0,0,1,42,17)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="2" xml:space="preserve" y="29" clip-path="url(#clipPath5)" stroke="none"
      > :reportedOn : xsd:dateTime</text
      >
<!-- 
<text x="2" xml:space="preserve" y="44" clip-path="url(#clipPath5)" stroke="none"
      > :reproducedOn : xsd:dateTime?</text
    >
-->
</g
    ><g font-size="11" transform="translate(42,2)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" font-weight="bold" stroke-opacity="1"
    ><text x="69" xml:space="preserve" y="12" clip-path="url(#clipPath6)" stroke="none"
      >:Issue</text
    ></g
    ><g font-size="11" transform="translate(212,62)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath8)" stroke="none"
      >0..*</text
    ></g
    ><g font-size="11" transform="translate(302,62)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath10)" stroke="none"
      >0..1</text
    ></g
    ><g font-size="11" transform="translate(312,22)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath12)" stroke="none"
      >1</text
    ></g
    ><g font-size="11" transform="translate(212,22)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath8)" stroke="none"
      >0..*</text
    ></g
    ><g font-size="11" transform="translate(122,102)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="9" xml:space="preserve" y="12" clip-path="url(#clipPath14)" stroke="none"
      >0..*</text
    ></g
    ><g font-size="11" transform="translate(2,52)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath16)" stroke="none"
      >0..1</text
    ></g
    ><g font-size="11" stroke-linecap="butt" transform="translate(188,18)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke-linejoin="round" stroke="black" stroke-opacity="1"
    ><line y2="24" fill="none" x1="143" clip-path="url(#clipPath17)" x2="24" y1="24"
    /></g
    ><g font-size="11" stroke-linecap="butt" transform="translate(189,58)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke-linejoin="round" stroke="black" stroke-opacity="1"
    ><line y2="24" fill="none" x1="24" clip-path="url(#clipPath17)" x2="143" y1="24"
    /></g
    ><g font-size="11" stroke-linecap="butt" transform="translate(-12,48)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke-linejoin="round" stroke="black" stroke-opacity="1"
    ><line y2="84" fill="none" x1="134" clip-path="url(#clipPath18)" x2="134" y1="55"
      /><line y2="84" fill="none" x1="134" clip-path="url(#clipPath18)" x2="24" y1="84"
      /><line y2="24" fill="none" x1="24" clip-path="url(#clipPath18)" x2="24" y1="84"
      /><line y2="24" fill="none" x1="24" clip-path="url(#clipPath18)" x2="53" y1="24"
    /></g
    ><g font-size="11" transform="translate(232,42)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath19)" stroke="none"
      >:reportedBy</text
    ></g
    ><g font-size="11" transform="translate(222,82)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath20)" stroke="none"
      >:reproducedBy</text
    ></g
    ><g font-size="11" transform="translate(22,132)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath21)" stroke="none"
      >:related</text
    ></g
    ><g fill="rgb(120,120,120)" text-rendering="geometricPrecision" fill-opacity="1" font-size="10" stroke-opacity="1" stroke="rgb(120,120,120)"
    ></g
  ></g
></svg
>
      		<p>
      			The Turtle source code of the complete LDOM file can be found at
      			<a href="ldomissue.ldom.ttl">ldomissue.ldom.ttl</a>.
      			<span class="todo">
      			currently out of synch with text.
      			</span>
      		</p>
      		<p>
      			The LDOM system vocabulary is defined in itself, using its own 
      			<a href="../data-shapes-core/ldom.ldom.ttl">LDOM File</a>.
      			<span class="todo">
      			currently out of synch with text.
      			</span>
      			This file also includes in-line comments for open issues as well
      			as many technical details that are omitted in this primer for space
      			considerations.
      		</p>
      		<p>
      			Within this document, the following namespace prefix bindings are used:
      		</p>
      		<table style="border-collapse: collapse; border-color: #000000" border="1" cellpadding="5">
      			<tr>
      				<th>Prefix</th>
      				<th>Namespace</th>
      			</tr>
      			<tr>
      				<td>ldom:</td>
      				<td>http://www.w3.org/ns/ldom/core#</td>
      			</tr>
      			<tr>
      				<td>rdf:</td>
      				<td>http://www.w3.org/1999/02/22-rdf-syntax-ns#</td>
      			</tr>
      			<tr>
      				<td>xsd:</td>
      				<td>http://www.w3.org/2001/XMLSchema#</td>
      			</tr>
      			<tr>
      				<td>ex:</td>
      				<td>http://example.com/ns#</td>
      			</tr>
      		</table>
    	</section>
    	
    	<section id="syntax">
    		<h2>Presentation Syntax</h2>
        <p>
          RDF has several syntaxes speciallized for different purposes.
          In principle, any of those can be used to convey constraints or data.
          This Primer is available in <a href="http://www.w3.org/TR/turtle/">Turtle</a> and <a href="http://www.w3.org/TR/json-ld/">JSON-LD</a>.
        </p>
        <form   id="langOptions" action="">View as: <input type="radio" name="presLang" value="turtle" checked="checked">Turtle (press 't')</input> <input type="radio" name="presLang" value="json-ld">JSON-LD (press 'j')</input> .</form>
      </section>

    	<section id="shapes">
    		<h2>Shape Declarations</h2>
        <div class="namespace">
        <p>
          A <code>Shape</code> describes the triples coming into and out of a node in an RDF graph.
          A shape has <code>Properties</code> attached to it which describe the expected triples.
          A <code>Property</code> has a <code>predicate</code> which identifies the triple's predicate and may have a <code>minCount</code> and <code>maxCount</code> to indicate how many triples with that predicate are expectd.
          The following attributes are used to constrain the object of each of triples with that predicate:
        </p>
        <ul>
          <li><code>nodeType</code>: identifies the RDF node type (IRI, RDF literal, or Blank Node).</li>
          <li><code>valueType</code>: identifies the datatype of an RDF literal.</li>
          <li><code>allowedValue</code>: enumerates specific expected values.</li>
          <li><code>valueShape</code>: asserts that the object is described by another shape.</li>
        </ul>
    		<p>
    			Take as an example an issue tracker which can accept new instances which have a prescribed structure recognized by the software and queries.
          (Mousing over the the following list items items will highlight the corresponding elements in the example text.)
          An issue must have:
    		</p>

      <ul>
        <li class="state lowlight1 top bot">exactly one <span id="state"><span class="type">ex:</span><span class="constant">state</span></span> with a value of <span class="stateValue lowlight2 top bot"><span class="type">ex:</span><span class="constant">unassigned</span> or <span class="type">ex:</span><span class="constant">assigned</span></span>, here enumerated with <code>allowedValue</code>,</li>
        <li class="reportedBy lowlight1 top bot">exactly one <span id="mbox"><span class="type">ex:</span><span class="constant">reportedBy</span></span> which references a user, here expressed as a <code>valueShape</code> referenceing some <span class="user lowlight2 top bot">user shape</span>.</li>
      </ul>

      <p>
        The user referenced by the <span class="type">ex:</span><span class="constant">reportedBy</span> property must have:
      </p>

      <ul>
        <li class="name lowlight1 top bot">exactly one <span id="name"><span class="type">foaf:</span><span class="constant">name</span></span> with a value of an RDF Literal with a datatype of <span class="string lowlight2 top bot"><span class="type">xsd:</span><span class="constant">string</span></span>, here specified by <code>valueType</code>,</li>
        <li class="mbox lowlight1 top bot"><span class="oneOrMore lowlight2 top bot" id="oneOrMore">one or more</span> <span id="mbox"><span class="type">foaf:</span><span class="constant">mbox</span>es</span> with a value of an <span class="IRI lowlight2 top bot" id="IRI">RDF IRI</span>, here specified by <code>nodeType</code>.</li>
      </ul>

        <div class="example wrapper">
          <!-- Turtle example -->
    		  <pre class="schema turtle" style="float:left;"><span class="comment"># shapes (Turtle)</span>
<span class="function-name">sh:IssueShape</span> <span class="keyword">a</span> <span class="type">ldom:</span><span class="constant">Shape</span> ;
    <span class="state      lowlight1 top"><span class="type">ldom:</span><span class="constant">property</span> [                                     </span>
    <span class="state      lowlight1    ">    <span class="type">ldom:</span><span class="constant">predicate</span> <span class="type">ex:</span><span class="constant">state</span> ;                       </span>
    <span class="state      lowlight1    ">    <span class="type">ldom:</span><span class="constant">allowedValue</span> <span class="stateValue lowlight2 top bot"><span class="type">ex:</span><span class="constant">unassigned</span> , <span class="type">ex:</span><span class="constant">assigned</span></span> ; </span>
    <span class="state      lowlight1    ">    <span class="type">ldom:</span><span class="constant">minCount</span> 1 ; <span class="type">ldom:</span><span class="constant">maxCount</span> 1               </span>
    <span class="state      lowlight1 bot">] ;                                                 </span>
    <span class="reportedBy lowlight1 top"><span class="type">ldom:</span><span class="constant">property</span> [                                     </span>
    <span class="reportedBy lowlight1    ">    <span class="type">ldom:</span><span class="constant">predicate</span> <span class="type">ex:</span><span class="constant">reportedBy</span> ;                  </span>
    <span class="reportedBy lowlight1    ">    <span class="type">ldom:</span><span class="constant">valueShape</span> <span class="user lowlight2 top bot"><span class="function-name">sh:UserShape</span></span> ;                  </span>
    <span class="reportedBy lowlight1    ">    <span class="type">ldom:</span><span class="constant">minCount</span> 1 ; <span class="type">ldom:</span><span class="constant">maxCount</span> 1               </span>
    <span class="reportedBy lowlight1 bot">] <span class="keyword">.</span>                                                 </span>

<span class="user lowlight2 top bot"><span class="function-name">sh:UserShape</span></span> <span class="keyword">a</span> <span class="type">ldom:</span><span class="constant">Shape</span> ;
    <span class="name       lowlight1 top"><span class="type">ldom:</span><span class="constant">property</span> [                                     </span>
    <span class="name       lowlight1    ">    <span class="type">ldom:</span><span class="constant">predicate</span> <span class="type">foaf:</span><span class="constant">name</span> ;                      </span>
    <span class="name       lowlight1    ">    <span class="type">ldom:</span><span class="constant">valueType</span> <span class="string lowlight2 top bot"><span class="type">xsd:</span><span class="constant">string</span></span> ;                     </span>
    <span class="name       lowlight1    ">    <span class="type">ldom:</span><span class="constant">minCount</span> 1 ; <span class="type">ldom:</span><span class="constant">maxCount</span> 1               </span>
    <span class="name       lowlight1 bot">] ;                                                 </span>
    <span class="mbox       lowlight1 top"><span class="type">ldom:</span><span class="constant">property</span> [                                     </span>
    <span class="mbox       lowlight1    ">    <span class="type">ldom:</span><span class="constant">predicate</span> <span class="type">foaf:</span><span class="constant">mbox</span> ;                      </span>
    <span class="mbox       lowlight1    ">    <span class="type">ldom:</span><span class="constant">nodeType</span> <span class="IRI lowlight2 top bot"><span class="type">ldom:</span><span class="constant">IRI</span></span> ;                        </span>
    <span class="mbox       lowlight1    ">    <span class="oneOrMore lowlight2 top bot"><span class="type">ldom:</span><span class="constant">minCount</span> 1</span>                                 </span>
    <span class="mbox       lowlight1 bot">] <span class="keyword">.                                                 </span></span></pre>

          <!-- JSON-LD example -->
    		  <pre class="schema json-ld" style="float:left;"><span class="comment">// shapes (JSON-LD)</span>
{
<span style="font-size: 67%; ">  "@context": {
    "ex": "http://example.com/ns/ex#",
    "foaf": "http://xmlns.com/foaf/",
    "ldom": "http://www.w3.org/ns/ldom/core#",
    "sh": "http://example.com/ns/sh#",
    "xsd": "http://www.w3.org/2001/XMLSchema#"
  },</span>
  "@graph": [
    {
      "@id": "sh:IssueShape",
      "@type": "ldom:Shape",
      "ldom:property": [
        <span class="state      lowlight1 top">{                               </span>
        <span class="state      lowlight1    ">  "ldom:predicate": {           </span>
        <span class="state      lowlight1    ">    "@id": "ex:state"           </span>
        <span class="state      lowlight1    ">  },                            </span>
        <span class="state      lowlight1    ">  "ldom:allowedValue": [        </span>
        <span class="state      lowlight1    ">    { <span class="stateValue lowlight2 top">"@id": "ex:unassigned"</span> },</span>
        <span class="state      lowlight1    ">    { <span class="stateValue lowlight2 bot">"@id": "ex:assigned"  </span> } </span>
        <span class="state      lowlight1    ">  ],                            </span>
        <span class="state      lowlight1    ">  "ldom:minCount": 1,           </span>
        <span class="state      lowlight1    ">  "ldom:maxCount": 1            </span>
        <span class="state      lowlight1 bot">},                              </span>
        <span class="reportedBy lowlight1 top">{                               </span>
        <span class="reportedBy lowlight1    ">  "ldom:predicate": {           </span>
        <span class="reportedBy lowlight1    ">    "@id": "ex:reportedBy"      </span>
        <span class="reportedBy lowlight1    ">  },                            </span>
        <span class="reportedBy lowlight1    ">  "ldom:valueShape": {          </span>
        <span class="reportedBy lowlight1    ">    <span class="user lowlight2 top bot">"@id": "sh:UserShape"</span>      </span>
        <span class="reportedBy lowlight1    ">  },                            </span>
        <span class="reportedBy lowlight1    ">  "ldom:minCount": 1,           </span>
        <span class="reportedBy lowlight1    ">  "ldom:maxCount": 1            </span>
        <span class="reportedBy lowlight1 bot">}                               </span>
      ]
    },
    {
      "@id": "sh:UserShape",
      "@type": "ldom:Shape",
      "ldom:property": [
        <span class="name       lowlight1 top">{                               </span>
        <span class="name       lowlight1    ">  "ldom:predicate": {           </span>
        <span class="name       lowlight1    ">    "@id": "foaf:name"          </span>
        <span class="name       lowlight1    ">  },                            </span>
        <span class="name       lowlight1    ">  "ldom:valueType": {           </span>
        <span class="name       lowlight1    ">    <span class="string lowlight2 top bot">"@id": "xsd:string"</span>        </span>
        <span class="name       lowlight1    ">  },                            </span>
        <span class="name       lowlight1    ">  "ldom:minCount": 1,           </span>
        <span class="name       lowlight1    ">  "ldom:maxCount": 1            </span>
        <span class="name       lowlight1 bot">},                              </span>
        <span class="mbox       lowlight1 top">{                               </span>
        <span class="mbox       lowlight1    ">  "ldom:predicate": {           </span>
        <span class="mbox       lowlight1    ">    "@id": "foaf:mbox"          </span>
        <span class="mbox       lowlight1    ">  },                            </span>
        <span class="mbox       lowlight1    ">  "ldom:nodeType": {            </span>
        <span class="mbox       lowlight1    ">    <span class="IRI lowlight2 top bot">"@id": "ldom:IRI"</span>          </span>
        <span class="mbox       lowlight1    ">  },                            </span>
        <span class="mbox       lowlight1    ">  "ldom:minCount": 1            </span>
        <span class="mbox       lowlight1 bot">}                               </span>
      ]
    }
  ]
}
</pre>
          <div class="verticalDivider"><!-- acts as a divider --></div>
          <div style="float:left;">
    	  	<pre class="instance turtle"><span class="comment"># passing data</span>
<span class="keyword">PREFIX</span> <span class="type">ex:</span> <span class="function-name">http://ex.example/#</span><span class="comment">
</span><span class="keyword">PREFIX</span> <span class="type">foaf:</span> <span class="function-name">http://xmlns.com/foaf/</span>
<span class="keyword">PREFIX</span> <span class="type">xsd:</span> <span class="function-name">http://www.w3.org/2001/XMLSchema#</span><span class="comment">
</span>
<span class="function-name">inst:Issue1</span> <span class="keyword">a</span> <span class="type">ex:</span><span class="constant">Issue</span> ;
    <span class="state lowlight1 top bot"><span class="type">ex:</span><span class="constant">state</span>        <span class="stateValue lowlight2 top bot"><span class="type">ex:</span><span class="constant">unassigned</span></span></span> ;
    <span class="reportedBy lowlight1 top bot"><span class="type">ex:</span><span class="constant">reportedBy</span>   <span class="user lowlight2 top bot"><span class="function-name">inst:User2</span></span></span> <span class="keyword">.</span>

<span class="user lowlight2 top bot"><span class="function-name">inst:User2</span></span> <span class="keyword">a</span> <span class="type">foaf:</span><span class="constant">Person</span> ;
    <span class="name lowlight1 top bot"><span class="type">foaf:</span><span class="constant">name</span>       <span class="string top bot">"Bob Smith"</span></span> ;
    <span class="mbox lowlight1 top"><span class="oneOrMore lowlight2 top"><span class="type">foaf:</span><span class="constant">mbox</span></span>       <span class="IRI lowlight2 top"><span class="fullURL">&lt;mailto:bob@example.org&gt;</span><span class="keyword"></span></span></span> ;
    <span class="mbox lowlight1 bot"><span class="oneOrMore lowlight2 bot"><span class="type">foaf:</span><span class="constant">mbox</span></span>       <span class="IRI lowlight2 bot"><span class="fullURL">&lt;mailto:rs@example.org&gt;</span> <span class="keyword"></span></span></span>.</pre>

    	  	<pre class="instance turtle fail" style="float:left;"><span class="comment"># failing data</span>
<span class="keyword">PREFIX</span> <span class="type">ex:</span> <span class="function-name">http://ex.example/#</span><span class="comment">
</span><span class="keyword">PREFIX</span> <span class="type">foaf:</span> <span class="function-name">http://xmlns.com/foaf/</span>
<span class="keyword">PREFIX</span> <span class="type">xsd:</span> <span class="function-name">http://www.w3.org/2001/XMLSchema#</span><span class="comment">
</span>
<span class="function-name">inst:Issue2</span> <span class="keyword">a</span> <span class="type">ex:</span><span class="constant">Issue</span> ;
    <span class="state lowlight1 top bot"><span class="type">ex:</span><span class="constant">state</span>        <span class="stateValue lowlight2 top bot"><span class="type">ex:</span><span class="constant errorSite">unsinged</span></span></span> ;
    <span class="reportedBy lowlight1 top bot"><span class="type">ex:</span><span class="constant">reportedBy</span>   <span class="user lowlight2 top bot"><span class="function-name">inst:User4</span></span></span> <span class="keyword">.</span>

<span class="user lowlight2 top bot"><span class="function-name">inst:User4</span></span> <span class="keyword">a</span> <span class="type">foaf:</span><span class="constant">Person</span> ;
    <span class="name lowlight1 top bot"><span class="type">foaf:</span><span class="constant">name</span>       <span class="string top bot">"Bob Smith"</span>, <span class="string top bot errorSite">"Robert Smith"</span></span> ;
    <span class="mbox lowlight1 top"><span class="oneOrMore lowlight2 top"><span class="type">foaf:</span><span class="constant">mbox</span></span>       <span class="IRI lowlight2 top"><span class="fullURL">&lt;mailto:bob@example.org&gt;</span><span class="keyword"></span></span></span> ;
    <span class="mbox lowlight1 bot"><span class="oneOrMore lowlight2 bot"><span class="type">foaf:</span><span class="constant">mbox</span></span>       <span class="IRI lowlight2 bot"><span class="fullURL">&lt;mailto:rs@example.org&gt;</span> <span class="keyword"></span></span></span>.</pre>
  </div>
          <div style="clear:both;"></div>
      </div>
      <script type="text/javascript">
      <!--
prepareHighlight(['oneOrMore', 'IRI', 'stateValue', 'user', 'string'], "highlight2", "lowlight2");
prepareHighlight(['state', 'reportedBy', 'name', 'mbox'], "highlight1", "lowlight1");
      -->
      </script>
      </div>
			<p>
        In the top example, <span class="function-name">inst:Issue1</span> conforms to <span class="function-name">sh:IssueShape</span> because every predicate identified in <span class="function-name">sh:IssueShape</span> corresponds to a triple with a subject of <span class="function-name">inst:Issue1</span>.
      </p>
      <ul>
        <li>The first property restriction in <span class="function-name">sh:IssueShape</span> asserts that the object of the <span class="type">ex:</span><span class="constant">state</span> must have one of two values: <span class="type">ex:</span><span class="constant">unassigned</span> or <span class="type">ex:</span><span class="constant">assigned</span>.</li>
        <li>The second property restriction asserts that the object of the <span class="type">ex:</span><span class="constant">reportedBy</span> arc (<span class="function-name">inst:User2</span>) must match the <span class="function-name">sh:UserShape</span> shape.</li>
        <li>The first property restriction in <span class="function-name">sh:userShape</span> requires the object of the <span class="type">foaf:</span><span class="constant">name</span> to be an <a href="http://www.w3.org/TR/rdf11-concepts/#dfn-language-tagged-string">RDF language-tagged string</a> with a datatype of <span class="type">xsd:</span><span class="constant">string</span>.
        Note that as of RDF 1.1, simple literals have a datatype of xsd:string.</li>
        <li>The final property restriction asserts that the object of <span class="type">foaf:</span><span class="constant">mbox</span> be an <a href="http://www.w3.org/TR/rdf11-concepts/#dfn-iri">RDF IRI</a>.</li>
      </ul>
			<p class="issue">
				Shapes my extend other shapes by referencing them with the <code>ldom:extends</code> property.
				The property <code>ldom:abstract</code> that can be set to <code>true</code>
				for shapes that serve only as building blocks for more complex shapes.
				Furthermore, shapes may be marked <code>ldom:private</code> to indicate that they
				are only meant to be used inside of the graph that they have been defined in.
				This can be used to discourage instantiation outside of controlled scenarios.
			</p>
		</section>

		<section id="properties">
			<h2>Property Constraints</h2>
    		<p>
				  Property constraints identify predicates and their associated cardinalities and datatypes.
    			The following sections explain how such property constraints can be represented in LDOM.
    		</p>
    		<section id="basic-properties">
    			<h3>Basic Property Characteristics</h3>
	    		<p>
	    			It is common (in UML etc) to specify the name of a property and its
	    			cardinality (min/max value count) as well as the value type.
	    			In LDOM, these declarations can be attached to a class as follows:
	    		</p>

        <div class="example wrapper">
          <!-- Turtle example -->
    		  <pre class="schema turtle"><span class="comment"># shapes (Turtle)</span>
<span class="function-name"><span class="type">sh:</span><span class="constant">IssueShape</span></span> a <span class="type">ldom:</span><span class="constant">Shape</span> ;
    <span class="type">ldom:</span><span class="constant">property</span> [
        <span class="new">a ldom:PropertyConstraint</span> ;     <span class="comment"># This type declaration is optional</span>
        <span class="new">rdfs:label "state"</span> ;
        <span class="new">rdfs:comment "whether this shape has been assigned to someone."</span> ;
        <span class="type">ldom:</span><span class="constant">predicate</span> <span class="type">ex:</span><span class="constant">state</span> ;
        <span class="type">ldom:</span><span class="constant">allowedValue</span> <span class="type">ex:</span><span class="constant">unassigned</span> , <span class="type">ex:</span><span class="constant">assigned</span> ;
        <span class="type">ldom:</span><span class="constant">minCount</span> 1 ; <span class="type">ldom:</span><span class="constant">maxCount</span> 1
    ] ;
    <span class="type">ldom:</span><span class="constant">property</span> [
        <span class="new">a ldom:PropertyConstraint</span> ;
        <span class="new">rdfs:label "reported by"</span> ;
        <span class="new">rdfs:comment "who submitted a report about this bug."</span> ;
        <span class="type">ldom:</span><span class="constant">predicate</span> <span class="type">ex:</span><span class="constant">reportedBy</span> ;
        <span class="type">ldom:</span><span class="constant">valueShape</span> <span class="function-name"><span class="type">sh:</span><span class="constant">UserShape</span></span> ;
        <span class="type">ldom:</span><span class="constant">minCount</span> 1 ; <span class="type">ldom:</span><span class="constant">maxCount</span> 1
    ] .                                                 
</pre>

          <!-- JSON-LD example -->
    		  <pre class="schema json-ld"><span class="comment">// shapes (JSON-LD)</span>
{
  "@graph": [
    {
      "@id": "<span class="type">sh:</span><span class="constant">IssueShape</span>",
      "@type": "<span class="type">ldom:</span><span class="constant">Shape</span>",
      "<span class="type">ldom:</span><span class="constant">property</span>": [
        {
          <span class="new">"@type": "ldom:PropertyConstraint"</span>,     <span class="comment"># This type declaration is optional</span>
          <span class="new">"rdfs:label": "state"</span>,
          <span class="new">"rdfs:comment": "whether this shape has been assigned to someone."</span>,
          "<span class="type">ldom:</span><span class="constant">predicate</span>": {
            "@id": "<span class="type">ex:</span><span class="constant">state</span>"
          },
          "<span class="type">ldom:</span><span class="constant">allowedValue</span>": [
            { "@id": "<span class="type">ex:</span><span class="constant">unassigned</span>" },
            { "@id": "<span class="type">ex:</span><span class="constant">assigned</span>"   }
          ],
          "<span class="type">ldom:</span><span class="constant">minCount</span>": 1,
          "<span class="type">ldom:</span><span class="constant">maxCount</span>": 1
        },
        {
          <span class="new">"@type": "ldom:PropertyConstraint"</span>,
          <span class="new">"rdfs:label": "reported by"</span>,
          <span class="new">"rdfs:comment": "who submitted a report about this bug."</span>,
          "<span class="type">ldom:</span><span class="constant">predicate</span>": {
            "@id": "<span class="type">ex:</span><span class="constant">reportedBy</span>"
          },
          "<span class="type">ldom:</span><span class="constant">valueShape</span>": {
            "@id": "<span class="type">sh:</span><span class="constant">UserShape</span>"
          },
          "<span class="type">ldom:</span><span class="constant">minCount</span>": 1,
          "<span class="type">ldom:</span><span class="constant">maxCount</span>": 1
        }
      ]
    }
  ]
}</pre>
      </div>

				<p>
					Tools that understand LDOM can use the information above for many purposes.
					For example, they can figure out which fields should appear for an input form,
					and what values those fields can have, as well as labels and comments.
					Furthermore, they can verify that a given node in a graph fulfills the requirements for a <span class="function-name">sh:IssueShape</span>.
				</p>
				<p>
					The system property <code>ldom:property</code> is used to link a shape with its
					property declarations.
					The values of this property are nodes with the following properties:
				</p>
				<table style="border-collapse: collapse; border-color: #000000" border="1" cellpadding="5">
					<tr>
						<th>Property</th>
						<th>Description</th>
					</tr>
					<tr>
						<td><code>ldom:predicate</code></td>
						<td>
							Required. Must point to the URI of an RDF property used to store the
							values of the property.
						</td>
					</tr>
					<tr>
						<td><code>ldom:minCount</code></td>
						<td>Type: integer &gt;= 0, the minimum number of values required. Defaults to 0.</td>
					</tr>
					<tr>
						<td><code>ldom:maxCount</code></td>
						<td>Type: integer &gt;= 0, the maximum number of values required. Defaults to unlimited.</td>
					</tr>
					<tr>
						<td><code>ldom:valueShape</code></td>
						<td>
							The object matches the refrenced <code>ldom:Shape</code>. 
						</td>
					</tr>
					<tr>
						<td><code>ldom:valueType</code></td>
						<td>
							identifies the datatype for an RDF literal.
						</td>
					</tr>
					<tr class="issue">
						<td><code>ldom:allowedValues</code></td>
						<td>Type: <code>ldom:Set</code> (with property <code>ldom:member</code>), points to a set enumerating the allowed values.</td>
					</tr>
					<tr class="issue">
						<td><code>ldom:allowedValue</code></td>
						<td>Type: the same as the ldom:valueType of the surrounding property.</td>
					</tr>
					<tr>
						<td><code>rdfs:label</code></td>
						<td>
							A human-readable label of the property in the context of the associated class.
						</td>
					</tr>
					<tr>
						<td><code>rdfs:comment</code></td>
						<td>
							A description of the property's role in the context of the associated class.
						</td>
					</tr>
				</table>
    		</section>
      <section id="choices">
				<h3>Choices</h3>
				<p>
          We can extend our first example to include a more flexible user which includes given and family names.
        </p>

<svg fill-opacity="0" xmlns:xlink="http://www.w3.org/1999/xlink" color-rendering="auto" color-interpolation="auto" stroke="rgb(0,0,0)" text-rendering="auto" stroke-linecap="square" width="466" stroke-miterlimit="10" stroke-opacity="0" shape-rendering="auto" fill="rgb(0,0,0)" stroke-dasharray="none" font-weight="normal" stroke-width="1" height="151" xmlns="http://www.w3.org/2000/svg" font-family="&apos;Dialog&apos;" font-style="normal" stroke-linejoin="miter" font-size="12" stroke-dashoffset="0" image-rendering="auto"
><!--Generated by the Batik Graphics2D SVG Generator--><defs id="genericDefs"
  /><g
  ><defs id="defs1"
    ><linearGradient x1="65" gradientUnits="userSpaceOnUse" x2="65" y1="100" y2="0" id="linearGradient1" spreadMethod="reflect"
      ><stop stop-opacity="1" stop-color="rgb(118,148,200)" offset="0%"
        /><stop stop-opacity="1" stop-color="rgb(238,243,251)" offset="100%"
      /></linearGradient
      ><linearGradient x1="85" gradientUnits="userSpaceOnUse" x2="85" y1="100" y2="0" id="linearGradient2" spreadMethod="reflect"
      ><stop stop-opacity="1" stop-color="rgb(118,148,200)" offset="0%"
        /><stop stop-opacity="1" stop-color="rgb(238,243,251)" offset="100%"
      /></linearGradient
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath1"
      ><path d="M-7 -7 L141 -7 L141 111 L-7 111 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath2"
      ><path d="M0 0 L0 85 L130 85 L130 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath3"
      ><path d="M0 0 L130 0 L130 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath4"
      ><path d="M-7 -7 L181 -7 L181 111 L-7 111 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath5"
      ><path d="M0 0 L0 85 L170 85 L170 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath6"
      ><path d="M0 0 L170 0 L170 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath7"
      ><path d="M-7 -7 L48 -7 L48 26 L-7 26 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath8"
      ><path d="M0 0 L37 0 L37 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath9"
      ><path d="M-7 -7 L50 -7 L50 26 L-7 26 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath10"
      ><path d="M0 0 L39 0 L39 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath11"
      ><path d="M-7 -7 L37 -7 L37 27 L-7 27 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath12"
      ><path d="M0 0 L26 0 L26 16 L0 16 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath13"
      ><path d="M-7 -7 L47 -7 L47 26 L-7 26 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath14"
      ><path d="M0 0 L36 0 L36 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath15"
      ><path d="M-7 -7 L49 -7 L49 26 L-7 26 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath16"
      ><path d="M0 0 L38 0 L38 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath17"
      ><path d="M0 0 L171 0 L171 52 L0 52 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath18"
      ><path d="M0 0 L162 0 L162 112 L0 112 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath19"
      ><path d="M-77 -15 L154 -15 L154 30 L-77 30 L-77 -15 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath20"
      ><path d="M-92 -15 L184 -15 L184 30 L-92 30 L-92 -15 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath21"
      ><path d="M-57 -15 L114 -15 L114 30 L-57 30 L-57 -15 Z"
      /></clipPath
    ></defs
    ><g fill="white" text-rendering="geometricPrecision" fill-opacity="1" stroke-opacity="1" stroke="white"
    ><rect x="0" width="466" height="151" y="0" stroke="none"
    /></g
    ><g font-size="11" transform="translate(332,2)" fill-opacity="1" fill="url(#linearGradient1)" text-rendering="geometricPrecision" font-family="sans-serif" stroke="url(#linearGradient1)" font-weight="bold" stroke-opacity="1"
    ><rect x="0" width="130" height="100" y="0" clip-path="url(#clipPath1)" stroke="none"
    /></g
    ><g font-size="11" stroke-linecap="butt" transform="translate(332,2)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke-linejoin="round" stroke="black" font-weight="bold" stroke-opacity="1" stroke-miterlimit="0"
    ><rect fill="none" x="0" width="130" height="100" y="0" clip-path="url(#clipPath1)"
      /><line y2="15" fill="none" x1="0" clip-path="url(#clipPath1)" x2="130" y1="15"
    /></g
    ><g font-size="11" transform="matrix(1,0,0,1,332,17)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="2" xml:space="preserve" y="14" clip-path="url(#clipPath2)" stroke="none"
      > :name : xsd:string</text
    ></g
    ><g font-size="11" transform="matrix(1,0,0,1,332,17)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    >
<text x="2" xml:space="preserve" y="29" clip-path="url(#clipPath2)" stroke="none"
      > :givenName : xsd:string</text
      ><text x="2" xml:space="preserve" y="44" clip-path="url(#clipPath2)" stroke="none"
      > :familyName : xsd:string</text
      >
<text x="2" xml:space="preserve" y="59" clip-path="url(#clipPath2)" stroke="none"
      > :mbox : AnyURI</text
    ></g
    ><g font-size="11" transform="translate(332,2)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" font-weight="bold" stroke-opacity="1"
    ><text x="50" xml:space="preserve" y="12" clip-path="url(#clipPath3)" stroke="none"
      >:User</text
    ></g
    ><g font-size="11" transform="translate(42,2)" fill-opacity="1" fill="url(#linearGradient2)" text-rendering="geometricPrecision" font-family="sans-serif" stroke="url(#linearGradient2)" font-weight="bold" stroke-opacity="1"
    ><rect x="0" width="170" height="100" y="0" clip-path="url(#clipPath4)" stroke="none"
    /></g
    ><g font-size="11" stroke-linecap="butt" transform="translate(42,2)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke-linejoin="round" stroke="black" font-weight="bold" stroke-opacity="1" stroke-miterlimit="0"
    ><rect fill="none" x="0" width="170" height="100" y="0" clip-path="url(#clipPath4)"
      /><line y2="15" fill="none" x1="0" clip-path="url(#clipPath4)" x2="170" y1="15"
    /></g
    ><g font-size="11" transform="matrix(1,0,0,1,42,17)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="2" xml:space="preserve" y="14" clip-path="url(#clipPath5)" stroke="none"
      > :status = Assigned|Unassigned</text
    ></g
    ><g font-size="11" transform="matrix(1,0,0,1,42,17)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="2" xml:space="preserve" y="29" clip-path="url(#clipPath5)" stroke="none"
      > :reportedOn : xsd:dateTime</text
      >
<text x="2" xml:space="preserve" y="44" clip-path="url(#clipPath5)" stroke="none"
      > :reproducedOn : xsd:dateTime?</text
    >
</g
    ><g font-size="11" transform="translate(42,2)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" font-weight="bold" stroke-opacity="1"
    ><text x="69" xml:space="preserve" y="12" clip-path="url(#clipPath6)" stroke="none"
      >:Issue</text
    ></g
    ><g font-size="11" transform="translate(212,62)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath8)" stroke="none"
      >0..*</text
    ></g
    ><g font-size="11" transform="translate(302,62)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath10)" stroke="none"
      >0..1</text
    ></g
    ><g font-size="11" transform="translate(312,22)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath12)" stroke="none"
      >1</text
    ></g
    ><g font-size="11" transform="translate(212,22)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath8)" stroke="none"
      >0..*</text
    ></g
    ><g font-size="11" transform="translate(122,102)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="9" xml:space="preserve" y="12" clip-path="url(#clipPath14)" stroke="none"
      >0..*</text
    ></g
    ><g font-size="11" transform="translate(2,52)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath16)" stroke="none"
      >0..1</text
    ></g
    ><g font-size="11" stroke-linecap="butt" transform="translate(188,18)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke-linejoin="round" stroke="black" stroke-opacity="1"
    ><line y2="24" fill="none" x1="143" clip-path="url(#clipPath17)" x2="24" y1="24"
    /></g
    ><g font-size="11" stroke-linecap="butt" transform="translate(189,58)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke-linejoin="round" stroke="black" stroke-opacity="1"
    ><line y2="24" fill="none" x1="24" clip-path="url(#clipPath17)" x2="143" y1="24"
    /></g
    ><g font-size="11" stroke-linecap="butt" transform="translate(-12,48)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke-linejoin="round" stroke="black" stroke-opacity="1"
    ><line y2="84" fill="none" x1="134" clip-path="url(#clipPath18)" x2="134" y1="55"
      /><line y2="84" fill="none" x1="134" clip-path="url(#clipPath18)" x2="24" y1="84"
      /><line y2="24" fill="none" x1="24" clip-path="url(#clipPath18)" x2="24" y1="84"
      /><line y2="24" fill="none" x1="24" clip-path="url(#clipPath18)" x2="53" y1="24"
    /></g
    ><g font-size="11" transform="translate(232,42)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath19)" stroke="none"
      >:reportedBy</text
    ></g
    ><g font-size="11" transform="translate(222,82)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath20)" stroke="none"
      >:reproducedBy</text
    ></g
    ><g font-size="11" transform="translate(22,132)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath21)" stroke="none"
      >:related</text
    ></g
    ><g fill="rgb(120,120,120)" text-rendering="geometricPrecision" fill-opacity="1" font-size="10" stroke-opacity="1" stroke="rgb(120,120,120)"
    ></g
  ></g
></svg
>
        <div class="namespace">
        <p>
          In this example, a user has:
        </p>
        <ul>
          <li><span class="eitherOr   lowlight2 top bot">either a simple name:</span>
            <ul>
              <li class="name lowlight1 top bot">a <span class="type">foaf:</span><span class="constant">name</span> property, .</li>
            </ul>
          </li>
          <li><span class="eitherOr   lowlight2 top bot">or a composite name:</span>
            <ul>
              <li class="gname lowlight1 top bot">one or more <span class="type">foaf:</span><span class="constant">givenName</span>s</li>
              <li class="fname lowlight1 top bot">a <span class="type">foaf:</span><span class="constant">familyName</span></li>
            </ul>
          </li>
        </ul>
        <p class="mbox lowlight1 top bot">The user must have exactly one <span class="type">foaf:</span><span class="constant">mbox</span>.</p>

        <div class="example wrapper">
          <!-- Turtle example -->
    		  <pre class="schema turtle" style="float:left;"><span class="comment"># shapes (Turtle)</span>
<span class="function-name">sh:UserShape</span> <span class="keyword">a</span> <span class="type">ldom:</span><span class="constant">Shape</span> ;
    <span class="eitherOr   lowlight2 top"><span class="type">ldom:</span><span class="constant">choice</span> [                                  </span>
    <span class="name       lowlight1 top">    ldom:property [                            </span>
    <span class="name       lowlight1    ">        <span class="type">ldom:</span><span class="constant">predicate</span> <span class="type">foaf:</span><span class="constant">name</span> ;             </span>
    <span class="name       lowlight1    ">        <span class="type">ldom:</span><span class="constant">valueType</span> <span class="type">xsd:</span><span class="constant">string</span> ;            </span>
    <span class="name       lowlight1    ">        <span class="type">ldom:</span><span class="constant">minCount</span> 1 ; <span class="type">ldom:</span><span class="constant">maxCount</span> 1      </span>
    <span class="name       lowlight1 bot">    ] ;                                        </span>
    <span class="eitherOr   lowlight2 bot">                                               </span>
    <span class="eitherOr   lowlight2 top">    ldom:propertyGroup [                       </span>
    <span class="gname      lowlight1 top">        <span class="type">ldom:</span><span class="constant">property</span> [                        </span>
    <span class="gname      lowlight1    ">            <span class="type">ldom:</span><span class="constant">predicate</span> <span class="type">foaf:</span><span class="constant">givenName</span> ;    </span>
    <span class="gname      lowlight1    ">            <span class="type">ldom:</span><span class="constant">valueType</span> <span class="type">xsd:</span><span class="constant">string</span> ;        </span>
    <span class="gname      lowlight1    ">            <span class="type">ldom:</span><span class="constant">minCount</span> 1                    </span>
    <span class="gname      lowlight1 bot">        ] ;                                    </span>
    <span class="fname      lowlight1 top">        <span class="type">ldom:</span><span class="constant">property</span> [                        </span>
    <span class="fname      lowlight1    ">            <span class="type">ldom:</span><span class="constant">predicate</span> <span class="type">foaf:</span><span class="constant">familyName</span> ;   </span>
    <span class="fname      lowlight1    ">            <span class="type">ldom:</span><span class="constant">valueType</span> <span class="type">xsd:</span><span class="constant">string</span> ;        </span>
    <span class="fname      lowlight1    ">            <span class="type">ldom:</span><span class="constant">minCount</span> 1 ; <span class="type">ldom:</span><span class="constant">maxCount</span> 1  </span>
    <span class="fname      lowlight1 bot">        ]                                      </span>
    <span class="eitherOr   lowlight2 bot">    ]                                          </span>
    ] ;                                                    
    <span class="mbox       lowlight1 top"><span class="type">ldom:</span><span class="constant">property</span> [                                </span>
    <span class="mbox       lowlight1    ">    <span class="type">ldom:</span><span class="constant">predicate</span> <span class="type">foaf:</span><span class="constant">mbox</span> ;                 </span>
    <span class="mbox       lowlight1    ">    <span class="type">ldom:</span><span class="constant">nodeType</span> <span class="type">ldom:</span><span class="constant">IRI</span> ;                   </span>
    <span class="mbox       lowlight1    ">    <span class="type">ldom:</span><span class="constant">minCount</span> 1                            </span>
    <span class="mbox       lowlight1 bot">] <span class="keyword">.                                            </span></span></pre>

          <!-- JSON-LD example -->
    		  <pre class="schema json-ld" style="float:left;"><span class="comment">// shapes (JSON-LD)</span>
{
  "@graph": [
    {
      "@id": "<span class="type">sh:</span><span class="constant">UserShape</span>",
      "@type": "<span class="type">ldom:</span><span class="constant">Shape</span>",
      <span class="eitherOr   lowlight2 top">"<span class="type">ldom:</span><span class="constant">choice</span>": {                  </span>
        <span class="name       lowlight1 top">"<span class="type">ldom:</span><span class="constant">property</span>": {              </span>
        <span class="name       lowlight1    ">  "<span class="type">ldom:</span><span class="constant">predicate</span>": {           </span>
        <span class="name       lowlight1    ">    "@id": "<span class="type">foaf:</span><span class="constant">name</span>"          </span>
        <span class="name       lowlight1    ">  },                            </span>
        <span class="name       lowlight1    ">  "<span class="type">ldom:</span><span class="constant">valueType</span>": {           </span>
        <span class="name       lowlight1    ">      "@id": "<span class="type">xsd:</span><span class="constant">string</span>"       </span>
        <span class="name       lowlight1    ">  },                            </span>
        <span class="name       lowlight1    ">  "<span class="type">ldom:</span><span class="constant">maxCount</span>": 1,           </span>
        <span class="name       lowlight1    ">  "<span class="type">ldom:</span><span class="constant">minCount</span>": 1            </span>
        <span class="name       lowlight1 bot">},                              </span>
        <span class="eitherOr   lowlight2 bot">                                </span>
        <span class="eitherOr   lowlight2 top">"<span class="type">ldom:</span><span class="constant">propertyGroup</span>": {         </span>
          "<span class="type">ldom:</span><span class="constant">property</span>": [
            <span class="gname      lowlight1 top">{                           </span>
            <span class="gname      lowlight1    ">  "<span class="type">ldom:</span><span class="constant">predicate</span>": {       </span>
            <span class="gname      lowlight1    ">    "@id": "<span class="type">foaf:</span><span class="constant">givenName</span>" </span>
            <span class="gname      lowlight1    ">  },                        </span>
            <span class="gname      lowlight1    ">  "<span class="type">ldom:</span><span class="constant">valueType</span>": {       </span>
            <span class="gname      lowlight1    ">    "@id": "<span class="type">xsd:</span><span class="constant">string</span>"     </span>
            <span class="gname      lowlight1    ">  },                        </span>
            <span class="gname      lowlight1    ">  "<span class="type">ldom:</span><span class="constant">minCount</span>": 1        </span>
            <span class="gname      lowlight1 bot">},                          </span>
            <span class="fname      lowlight1 top">{                           </span>
            <span class="fname      lowlight1    ">  "<span class="type">ldom:</span><span class="constant">predicate</span>": {       </span>
            <span class="fname      lowlight1    ">    "@id": "<span class="type">foaf:</span><span class="constant">familyName</span>"</span>
            <span class="fname      lowlight1    ">  },                        </span>
            <span class="fname      lowlight1    ">  "<span class="type">ldom:</span><span class="constant">valueType</span>": {       </span>
            <span class="fname      lowlight1    ">    "@id": "<span class="type">xsd:</span><span class="constant">string</span>"     </span>
            <span class="fname      lowlight1    ">  },                        </span>
            <span class="fname      lowlight1    ">  "<span class="type">ldom:</span><span class="constant">maxCount</span>": 1,       </span>
            <span class="fname      lowlight1    ">  "<span class="type">ldom:</span><span class="constant">minCount</span>": 1        </span>
            <span class="fname      lowlight1 bot">}                           </span>
          ]
        <span class="eitherOr   lowlight2 bot">}                               </span>
      },
      <span class="mbox       lowlight1 top">"<span class="type">ldom:</span><span class="constant">property</span>":     {            </span>
      <span class="mbox       lowlight1    ">  "<span class="type">ldom:</span><span class="constant">predicate</span>": {             </span>
      <span class="mbox       lowlight1    ">    "@id": "<span class="type">foaf:</span><span class="constant">mbox</span>"            </span>
      <span class="mbox       lowlight1    ">  },                              </span>
      <span class="mbox       lowlight1    ">  "<span class="type">ldom:</span><span class="constant">nodeType</span>": {              </span>
      <span class="mbox       lowlight1    ">    "@id": "<span class="type">ldom:</span><span class="constant">IRI</span>"             </span>
      <span class="mbox       lowlight1    ">  },                              </span>
      <span class="mbox       lowlight1    ">  "<span class="type">ldom:</span><span class="constant">minCount</span>": 1              </span>
      <span class="mbox       lowlight1 bot">}                                 </span>
    }
  ]
}</pre>
          <div class="verticalDivider"><!-- acts as a divider --></div>
          <div style="float:left;">
    	  	<pre class="instance turtle"><span class="comment"># passing datas</span>
<span class="function-name">inst:User1</span> <span class="keyword">a</span> <span class="type">foaf:</span><span class="constant">Person</span> ;
    <span class="name lowlight1 top bot"><span class="type">foaf:</span><span class="constant">name</span>       <span class="string top bot">"Alice Walker"</span></span> ;
    <span class="mbox lowlight1 top bot"><span class="type">foaf:</span><span class="constant">mbox</span>       <span class="fullURL">&lt;mailto:awalker@example.org&gt;</span><span class="keyword"></span></span> .

<span class="function-name">inst:User2</span> <span class="keyword">a</span> <span class="type">foaf:</span><span class="constant">Person</span> ;
    <span class="gname lowlight1 top"><span class="type">foaf:</span><span class="constant">givenName</span>  <span class="string top bot">"Robert"</span></span> ;
    <span class="gname lowlight1 bot"><span class="type">foaf:</span><span class="constant">givenName</span>  <span class="string top bot">"Paris"</span> </span>;
    <span class="fname lowlight1 top bot"><span class="type">foaf:</span><span class="constant">familyName</span> <span class="string top bot">"Moses"</span></span> ;
    <span class="mbox lowlight1 top bot"><span class="type">foaf:</span><span class="constant">mbox</span>       <span class="fullURL">&lt;mailto:rpmoses@example.org&gt;</span><span class="keyword"></span></span> .</pre>

          <pre class="instance turtle fail"><span class="comment"># failing datas</span>
<span class="function-name">inst:User3</span> <span class="keyword">a</span> <span class="type">foaf:</span><span class="constant">Person</span> ;
    <span class="gname lowlight1 top bot"><span class="type">foaf:</span><span class="constant">givenName</span>  <span class="string top bot">"Smith"</span></span> ;
    <span class="errorSite"> # error: no familyName</span>
    <span class="mbox lowlight1 top bot"><span class="type">foaf:</span><span class="constant">mbox</span>       <span class="fullURL">&lt;mailto:bobs@example.org&gt;</span><span class="keyword"></span></span> .

<span class="function-name">inst:User4</span> <span class="keyword">a</span> <span class="type">foaf:</span><span class="constant">Person</span> ;
    <span class="name lowlight1 top bot"><span class="type">foaf:</span><span class="constant">name</span>       <span class="string top bot">"A"</span></span> ;
    <span class="errorSite"> # error: both name and given/family name</span>
    <span class="gname lowlight1 top bot"><span class="type">foaf:</span><span class="constant">givenName</span>  <span class="string top bot">"B"</span></span> ;
    <span class="fname lowlight1 top bot"><span class="type">foaf:</span><span class="constant">familyName</span> <span class="string top bot">"C"</span></span> ;
    <span class="mbox lowlight1 top bot"><span class="type">foaf:</span><span class="constant">mbox</span>       <span class="fullURL">&lt;mailto:bobs@example.org&gt;</span><span class="keyword"></span></span> .</pre>
          </div>

          <div style="clear:both;"></div>
      </div>
      <script type="text/javascript">
      <!--
prepareHighlight(['oneOrMore', 'eitherOr'], "highlight2", "lowlight2");
prepareHighlight(['name', 'gname', 'fname', 'mbox'], "highlight1", "lowlight1");
      -->
      </script>
      </div>
      </section>
    		<section id="datatype-properties">
    			<h3>Datatype Property Characteristics</h3>
        <div class="namespace">
				<p>
					In addition to those basic property characteristics, it is possible to use others such as min/max value ranges for properties that have datatype literals as values.
          Here we constrain the length of a foaf:name to be <span class="min lowlight2 top bot">&gt;= 3</span> and <span class="max lowlight2 top bot">&lt;= 255</span>:
				</p>

        <div class="example wrapper">
          <!-- Turtle example -->
    		  <pre class="schema turtle" style="float:left;"><span class="comment"># shapes (Turtle)</span>
<span class="user lowlight2 top bot"><span class="function-name">sh:UserShape</span></span> <span class="keyword">a</span> <span class="type">ldom:</span><span class="constant">Shape</span> ;
    <span class="name       lowlight1 top"><span class="type">ldom:</span><span class="constant">property</span> [                                     </span>
    <span class="name       lowlight1    ">    <span class="type">ldom:</span><span class="constant">predicate</span> <span class="type">foaf:</span><span class="constant">name</span> ;                      </span>
    <span class="name       lowlight1    ">    <span class="type">ldom:</span><span class="constant">valueType</span> <span class="type">xsd:</span><span class="constant">string</span> ;                     </span>
    <span class="name       lowlight1    ">    <span class="type">ldom:</span><span class="constant">minCount</span> 1 ; <span class="type">ldom:</span><span class="constant">maxCount</span> 1               </span>
    <span class="name       lowlight1    ">    <span class="min lowlight2 top bot new"><span class="type">ldom:</span><span class="constant">minLength</span> 3</span> ; <span class="max lowlight2 top bot new"><span class="type">ldom:</span><span class="constant">maxLength</span> 255</span>           </span>
    <span class="name       lowlight1 bot">] <span class="keyword">.                                                 </span></span></pre>

          <!-- JSON-LD example -->
    		  <pre class="schema json-ld" style="float:left;"><span class="comment">// shapes (JSON-LD)</span>
{
  "@graph": [
    {
      "@id": "<span class="type">sh:</span><span class="constant">UserShape</span>",
      "@type": "<span class="type">ldom:</span><span class="constant">Shape</span>",
      "<span class="type">ldom:</span><span class="constant">property</span>": [
        <span class="name       lowlight1 top">{                               </span>
        <span class="name       lowlight1    ">  "<span class="type">ldom:</span><span class="constant">predicate</span>": {           </span>
        <span class="name       lowlight1    ">    "@id": "<span class="type">foaf:</span><span class="constant">name</span>"          </span>
        <span class="name       lowlight1    ">  },                            </span>
        <span class="name       lowlight1    ">  "<span class="type">ldom:</span><span class="constant">valueType</span>": {           </span>
        <span class="name       lowlight1    ">    "@id": "<span class="type">xsd:</span><span class="constant">string</span>          </span>
        <span class="name       lowlight1    ">  },                            </span>
        <span class="name       lowlight1    ">  "<span class="type">ldom:</span><span class="constant">minCount</span>": 1,           </span>
        <span class="name       lowlight1    ">  "<span class="type">ldom:</span><span class="constant">maxCount</span>": 1,           </span>
        <span class="name       lowlight1    ">  <span class="min lowlight2 top bot">"<span class="type">ldom:</span><span class="constant">minLength</span>": 3</span>,          </span>
        <span class="name       lowlight1    ">  <span class="max lowlight2 top bot">"<span class="type">ldom:</span><span class="constant">maxLength</span>": 255</span>         </span>
        <span class="name       lowlight1 bot">}                               </span>
      ]
    }
  ]
}
</pre>
          <div class="verticalDivider"><!-- acts as a divider --></div>
          <div style="float:left;">
    	  	<pre class="instance turtle"><span class="comment"># passing data</span>
<span class="name lowlight1 top bot"><span class="user lowlight2 top bot"><span class="function-name">inst:User2</span></span> <span class="type">foaf:</span><span class="constant">name</span>       <span class="string top bot">"Bob Smith"</span></span> .</pre>

    	  	<pre class="instance turtle fail" style="float:left;"><span class="comment"># failing data</span>
<span class="name lowlight1 top bot"><span class="user lowlight2 top bot"><span class="function-name">inst:User9</span></span> <span class="type">foaf:</span><span class="constant">name</span>       <span class="min lowlight2 top bot"><span class="string top bot errorSite">"BS"</span></span></span>.</pre>
  </div>
          <div style="clear:both;"></div>
      </div>
      <script type="text/javascript">
      <!--
prepareHighlight(['min', 'max'], "highlight2", "lowlight2");
prepareHighlight(['name999'], "highlight1", "lowlight1");
      -->
      </script>
      </div>
				<p>
					The following built-in constraints are available for datatype values.
					<span class="todo">(XML schema has additional facets: whiteSpace, fractionDigits, totalDigits. Schema.org also suggests: stepValue).</span>
				</p>
				<table style="border-collapse: collapse; border-color: #000000" border="1" cellpadding="5">
					<tr>
						<th>Property</th>
						<th>Description</th>
					</tr>
					<tr>
						<td><code>ldom:length</code></td>
						<td>Type: <code>xsd:integer</code>, number of characters of valid values.</td>
					</tr>
					<tr>
						<td><code>ldom:maxLength</code></td>
						<td>Type: <code>xsd:integer</code>, maximum number of characters of valid values.</td>
					</tr>
					<tr>
						<td><code>ldom:minLength</code></td>
						<td>Type: <code>xsd:integer</code>, minimum number of characters of valid values.</td>
					</tr>
					<tr>
						<td><code>ldom:maxExclusive</code></td>
						<td>Type: the same as the ldom:valueType of the surrounding property.</td>
					</tr>
					<tr>
						<td><code>ldom:maxInclusive</code></td>
						<td>Type: the same as the ldom:valueType of the surrounding property.</td>
					</tr>
					<tr>
						<td><code>ldom:minExclusive</code></td>
						<td>Type: the same as the ldom:valueType of the surrounding property.</td>
					</tr>
					<tr>
						<td><code>ldom:minInclusive</code></td>
						<td>Type: the same as the ldom:valueType of the surrounding property.</td>
					</tr>
					<tr>
						<td><code>ldom:pattern</code></td>
						<td>Type: <code>xsd:string</code>, a regular expression to match.</td>
					</tr>
				</table>
			</section>
			<section id="inverse-properties">
				<h3>Inverse Property Declarations</h3>
        <div class="namespace">
				<p>
					Due to the triple-based data model of RDF, it is possible to "walk" a relationship
					in both directions - from subject to object and from object to subject.
					LDOM can be used to declare that a property is associated with a class, even
					if the predicate is actually used in the inverse direction.
					As shown below, the system property <code class="inversePredicate top bot">ldom:inverseProperty</code> is used
					in such cases, and very similar characteristics as previously mentioned can
					be applied in these inverse property declarations.
				</p>
    		<p>
          Here we change the first example so that instead of an issue having a 
          <span class="reportedBy lowlight1 top bot"><span class="type">ex:</span><span class="constant">reportedBy</span> identifying a node corresponding to <span class="function-name">sh:UserShape</span></span>,
          the user node has a <span class="reportedIssue lowlight1 top bot">predicate <span class="type">ex:</span><span class="constant">reportedIssue</span> which identifies the issue</span>.
    		</p>

        <div class="example wrapper">
          <!-- Turtle example -->
    		  <pre class="schema turtle" style="float:left;"><span class="comment"># shapes (Turtle)</span>
<span class="function-name">sh:IssueShape</span> <span class="keyword">a</span> <span class="type">ldom:</span><span class="constant">Shape</span> ;
    <span class="state      lowlight1 top"><span class="type">ldom:</span><span class="constant">property</span> [                                     </span>
    <span class="state      lowlight1    ">    <span class="type">ldom:</span><span class="constant">predicate</span> <span class="type">ex:</span><span class="constant">state</span> ;                       </span>
    <span class="state      lowlight1    ">    <span class="type">ldom:</span><span class="constant">allowedValue</span> <span class="type">ex:</span><span class="constant">unassigned</span> , <span class="type">ex:</span><span class="constant">assigned</span> ; </span>
    <span class="state      lowlight1    ">    <span class="type">ldom:</span><span class="constant">minCount</span> 1 ; <span class="type">ldom:</span><span class="constant">maxCount</span> 1               </span>
    <span class="state      lowlight1 bot">] ;                                                 </span>
    <span class="reportedIssue lowlight1 top new"><span class="inversePredicate lowlight2 top bot"><span class="type">ldom:</span><span class="constant">inverseProperty</span></span> [                              </span>
    <span class="reportedIssue lowlight1    ">    <span class="type">ldom:</span><span class="constant">predicate</span> <span class="type">ex:</span><span class="constant">reportedIssue</span> ;               </span>
    <span class="reportedIssue lowlight1    ">    <span class="type">ldom:</span><span class="constant">valueShape</span> <span class="function-name">sh:UserShape</span> ;                  </span>
    <span class="reportedIssue lowlight1    ">    <span class="type">ldom:</span><span class="constant">minCount</span> 1 ; <span class="type">ldom:</span><span class="constant">maxCount</span> 1               </span>
    <span class="reportedIssue lowlight1 bot">] <span class="keyword">.</span>                                                 </span>

<span class="function-name">sh:UserShape</span> <span class="keyword">a</span> <span class="type">ldom:</span><span class="constant">Shape</span> ;
    <span class="name       lowlight1 top"><span class="type">ldom:</span><span class="constant">property</span> [                                     </span>
    <span class="name       lowlight1    ">    <span class="type">ldom:</span><span class="constant">predicate</span> <span class="type">foaf:</span><span class="constant">name</span> ;                      </span>
    <span class="name       lowlight1    ">    <span class="type">ldom:</span><span class="constant">valueType</span> <span class="type">xsd:</span><span class="constant">string</span> ;                     </span>
    <span class="name       lowlight1    ">    <span class="type">ldom:</span><span class="constant">minCount</span> 1 ; <span class="type">ldom:</span><span class="constant">maxCount</span> 1               </span>
    <span class="name       lowlight1 bot">] ;                                                 </span>
    <span class="mbox       lowlight1 top"><span class="type">ldom:</span><span class="constant">property</span> [                                     </span>
    <span class="mbox       lowlight1    ">    <span class="type">ldom:</span><span class="constant">predicate</span> <span class="type">foaf:</span><span class="constant">mbox</span> ;                      </span>
    <span class="mbox       lowlight1    ">    <span class="type">ldom:</span><span class="constant">nodeType</span> <span class="type">ldom:</span><span class="constant">IRI</span> ;                        </span>
    <span class="mbox       lowlight1    ">    <span class="type">ldom:</span><span class="constant">minCount</span> 1                                 </span>
    <span class="mbox       lowlight1 bot">] <span class="keyword">.                                                 </span></span></pre>

          <!-- JSON-LD example -->
    		  <pre class="schema json-ld" style="float:left;"><span class="comment">// shapes (JSON-LD)</span>
{
<span style="font-size: 67%; ">  "@context": {
    "ex": "http://example.com/ns/ex#",
    "foaf": "http://xmlns.com/foaf/",
    "ldom": "http://www.w3.org/ns/ldom/core#",
    "sh": "http://example.com/ns/sh#",
    "xsd": "http://www.w3.org/2001/XMLSchema#"
  },</span>
  "@graph": [
    {
      "@id": "sh:IssueShape",
      "@type": "ldom:Shape",
      "ldom:property": [
        <span class="state      lowlight1 top">{                               </span>
        <span class="state      lowlight1    ">  "ldom:predicate": {           </span>
        <span class="state      lowlight1    ">    "@id": "ex:state"           </span>
        <span class="state      lowlight1    ">  },                            </span>
        <span class="state      lowlight1    ">  "ldom:allowedValue": [        </span>
        <span class="state      lowlight1    ">    { "@id": "ex:unassigned" }, </span>
        <span class="state      lowlight1    ">    { "@id": "ex:assigned"   }  </span>
        <span class="state      lowlight1    ">  ],                            </span>
        <span class="state      lowlight1    ">  "ldom:minCount": 1,           </span>
        <span class="state      lowlight1    ">  "ldom:maxCount": 1            </span>
        <span class="state      lowlight1 bot">},                              </span>
        <span class="reportedIssue lowlight1 top">{                               </span>
        <span class="reportedIssue lowlight1    ">  <span class="inversePredicate lowlight2 top bot">"ldom:inversePredicate"</span>: {    </span>
        <span class="reportedIssue lowlight1    ">    "@id": "ex:reportedIssue"   </span>
        <span class="reportedIssue lowlight1    ">  },                            </span>
        <span class="reportedIssue lowlight1    ">  "ldom:valueShape": {          </span>
        <span class="reportedIssue lowlight1    ">    "@id": "sh:UserShape"       </span>
        <span class="reportedIssue lowlight1    ">  },                            </span>
        <span class="reportedIssue lowlight1    ">  "ldom:minCount": 1,           </span>
        <span class="reportedIssue lowlight1    ">  "ldom:maxCount": 1            </span>
        <span class="reportedIssue lowlight1 bot">}                               </span>
      ]
    },
    {
      "@id": "sh:UserShape",
      "@type": "ldom:Shape",
      "ldom:property": [
        <span class="name       lowlight1 top">{                               </span>
        <span class="name       lowlight1    ">  "ldom:predicate": {           </span>
        <span class="name       lowlight1    ">    "@id": "foaf:name"          </span>
        <span class="name       lowlight1    ">  },                            </span>
        <span class="name       lowlight1    ">  "ldom:valueType": {           </span>
        <span class="name       lowlight1    ">    "@id": "xsd:string"         </span>
        <span class="name       lowlight1    ">  },                            </span>
        <span class="name       lowlight1    ">  "ldom:minCount": 1,           </span>
        <span class="name       lowlight1    ">  "ldom:maxCount": 1            </span>
        <span class="name       lowlight1 bot">},                              </span>
        <span class="mbox       lowlight1 top">{                               </span>
        <span class="mbox       lowlight1    ">  "ldom:predicate": {           </span>
        <span class="mbox       lowlight1    ">    "@id": "foaf:mbox"          </span>
        <span class="mbox       lowlight1    ">  },                            </span>
        <span class="mbox       lowlight1    ">  "ldom:nodeType": {            </span>
        <span class="mbox       lowlight1    ">    "@id": "ldom:IRI"           </span>
        <span class="mbox       lowlight1    ">  },                            </span>
        <span class="mbox       lowlight1    ">  "ldom:minCount": 1            </span>
        <span class="mbox       lowlight1 bot">}                               </span>
      ]
    }
  ]
}
</pre>
          <div class="verticalDivider"><!-- acts as a divider --></div>
          <div style="float:left;">
    	  	<pre class="instance turtle"><span class="comment"># passing data</span>
<span class="function-name">inst:Issue1</span> <span class="keyword">a</span> <span class="type">ex:</span><span class="constant">Issue</span> ;
    <span class="state lowlight1 top bot"><span class="type">ex:</span><span class="constant">state</span>        <span class="type">ex:</span><span class="constant">unassigned</span></span> <span class="keyword">.</span>

<span class="user lowlight2 top bot"><span class="function-name">inst:User2</span></span> <span class="keyword">a</span> <span class="type">foaf:</span><span class="constant">Person</span> ;
    <span class="name lowlight1 top bot"><span class="type">foaf:</span><span class="constant">name</span>       <span class="string top bot">"Bob Smith"</span></span> ;
    <span class="reportedIssue lowlight1 top bot"><span class="type">ex:</span><span class="constant">reportedIssue</span>   <span class="function-name">inst:User2</span></span> ;
    <span class="mbox lowlight1 top"><span class="type">foaf:</span><span class="constant">mbox</span>       <span class="fullURL">&lt;mailto:bob@example.org&gt;</span><span class="keyword"></span></span> ;
    <span class="mbox lowlight1 bot"><span class="type">foaf:</span><span class="constant">mbox</span>       <span class="fullURL">&lt;mailto:rs@example.org&gt;</span> <span class="keyword"></span></span>.</pre>

    	  	<pre class="instance turtle fail" style="float:left;"><span class="comment"># failing data</span>
<span class="function-name">inst:Issue1</span> <span class="keyword">a</span> <span class="type">ex:</span><span class="constant">Issue</span> ;
    <span class="state lowlight1 top bot"><span class="type">ex:</span><span class="constant">state</span>        <span class="type">ex:</span><span class="constant">unassigned</span></span> ;
    <span class="reportedBy lowlight1 top bot"><span class="type">ex:</span><span class="constant">reportedBy</span>   <span class="function-name">inst:User2</span></span> <span class="keyword">.</span>

<span class="user lowlight2 top bot"><span class="function-name">inst:User2</span></span> <span class="keyword">a</span> <span class="type">foaf:</span><span class="constant">Person</span> ;
    <span class="name lowlight1 top bot"><span class="type">foaf:</span><span class="constant">name</span>       <span class="string top bot">"Bob Smith"</span></span> ;
    <span class="mbox lowlight1 top"><span class="type">foaf:</span><span class="constant">mbox</span>       <span class="fullURL">&lt;mailto:bob@example.org&gt;</span><span class="keyword"></span></span> ;
    <span class="mbox lowlight1 bot"><span class="type">foaf:</span><span class="constant">mbox</span>       <span class="fullURL">&lt;mailto:rs@example.org&gt;</span> <span class="keyword"></span></span>.</pre>
  </div>
          <div style="clear:both;"></div>
      </div>
      <script type="text/javascript">
      <!--
prepareHighlight(['inversePredicate'], "highlight2", "lowlight2");
prepareHighlight(['state999', 'reportedBy', 'reportedIssue', 'name999', 'mbox999'], "highlight1", "lowlight1");
      -->
      </script>
      </div>
			</section>

    	</section>
    	
    	<section id="associations">
    		<h2>Associating Data with Shapes</h2>
        <p>
          The above examples illustrate how nodes in data can be validated against a shape.
          There's no limit to the mechanisms that might associate data with a shape, e.g.
        </p>
        <ul>
          <li>
            <p>
              an node claiming to conform to some shape
            </p>
            <pre><span class="type">clinic:</span><span class="constant">patient2134</span> <span class="keyword">a</span> <span class="type">clinic:</span><span class="constant">PatientRecord</span> ;
  <span class="type">ldom:</span><span class="constant">nodeShape</span> [
    <span class="type">ldom:</span><span class="constant">property</span> [
        <span class="type">ldom:</span><span class="constant">predicate</span> <span class="type">clinic:</span><span class="constant">phone</span> ;
        <span class="type">ldom:</span><span class="constant">valueType</span> <span class="type">xsd:</span><span class="constant">string</span> ;
        <span class="type">ldom:</span><span class="constant">minCount</span> 1 ; <span class="type">ldom:</span><span class="constant">maxCount</span> 1
    ]
  ] <span class="keyword">.</span></pre>
          </li>
          <li>
            <p>
              every instance of a class conforms to some shape
            </p>
            <pre><span class="type">clinic:</span><span class="constant">PatientRecord</span> <span class="keyword">a</span> <span class="type">owl:</span><span class="constant">Class</span> ;
  <span class="type">ldom:</span><span class="constant">classShape</span> [
    <span class="type">ldom:</span><span class="constant">property</span> [
        <span class="type">ldom:</span><span class="constant">predicate</span> <span class="type">clinic:</span><span class="constant">phone</span> ;
        <span class="type">ldom:</span><span class="constant">valueType</span> <span class="type">xsd:</span><span class="constant">string</span> ;
        <span class="type">ldom:</span><span class="constant">minCount</span> 1 ; <span class="type">ldom:</span><span class="constant">maxCount</span> 1
    ]
  ] <span class="keyword">.</span></pre>
          </li>
          <li>
            <p>
              description of data available at a SPARQL interface
            </p>
            <pre>[ <span class="type">sd:</span><span class="constant">endpoint</span> <span class="function-name">&lt;<a href="http://www.example/sparql/">http://www.example/sparql/</a>&gt;</span> ;
  <span class="type">sd:</span><span class="constant">defaultDataset</span> [
    <span class="type">sd:</span><span class="constant">defaultGraph</span> [
      <span class="type">sd:</span><span class="constant">Graph</span> [
        <span class="type">ldom:</span><span class="constant">hasShape</span> <span class="type">ex:</span><span class="constant">IssueShape</span>
      ] ] ] ] <span class="keyword">.</span></pre>
          </li>
          <li>
            <p>
              LDP Container with starting element passed in the protocol
            </p>
            <pre>[ <span class="keyword">a</span> <span class="type">ldp:</span><span class="constant">RootedPOSTConstraint</span> ;
  <span class="type">ldp:</span><span class="constant">onContainer</span> <span class="function-name">&lt;MyContactsLDPContainer&gt;</span>
  <span class="type">ldom:</span><span class="constant">hasShape</span> <span class="function-name">&lt;PersonInMyContactsDB&gt;</span> ] <span class="keyword">.</span></pre>
          </li>
          <li>
            <p>
              LDP Container with a query identifying the starting node
            </p>
            <pre>[ <span class="keyword">a</span> <span class="type">ldp:</span><span class="constant">QueriedPOSTConstraint</span> ;
  <span class="type">ldp:</span><span class="constant">onContainer</span> <span class="function-name">&lt;MyContactsLDPContainer&gt;</span>
  <span class="type">ldom:</span><span class="constant">withQuery</span> <span class="string">"SELECT ?s { &#8230; }"</span> ;
  <span class="type">ldom:</span><span class="constant">hasShape</span> <span class="function-name">&lt;PersonInMyContactsDB&gt;</span> ] <span class="keyword">.</span></pre>
          </li>
        </ul>

        <p>
          LDOM defines two predicates, <span class="type">ldom:</span><span class="constant">nodeShape</span> and <span class="type">ldom:</span><span class="constant">classShape</span>.
          The former asserts that a particular node in some graph conforms to a specific shape.
          The latter asserts that every node of some type conforms to a specific shape.
          It is expected that different communities will develop many more associations, much as the WSDL community created an association between input and output documents and an XML schema which described them.
        </p>

      </section>

    	<section id="constraints">
    		<h2>Extensible Constraints</h2>
    		<p>
    			The property declarations shown in the previous chapter define conditions that
    			all graphs conforming to that shape need to fulfill.
    			They do this in a declarative language with a limited number of properties
    			such as <code>ldom:maxCount</code>.
    			However, in many cases it is necessary to define additional conditions
    			that are used to verify valid data, or to simply communicate the more complex
    			constraints.
          LDOM's extension mechanism permits other languages, like SPARQL, to be used when LDOM's expressivity is insufficient.
    		</p>
    		<section id="sparql-constraints">
				<h3>SPARQL-based Constraints</h3>
	    		<p>
					For example, the width and height of a Square must be equal.
					These constraints can be attached to class definitions using <code>ldom:constraint</code>
					as shown in the next example:
	    		</p>
          <pre class="example">
ex:IssueShape a ldom:Shape ;
  ldom:property [
    ldom:predicate ex:reportedOn ;
    ldom:valueType xsd:dateTime ;
    ldom:minCount 1 ; ldom:maxCount 1
  ] ;
  ldom:property [
    ldom:predicate ex:assignedOn ;
    ldom:valueType xsd:dateTime ;
    ldom:minCount 1
  ] .
  ldom:constraint [
    ldom:message "issues can't be assigned before they're reporeted" ;
    ldom:path ex:reportedOn ;
    ldom:path ex:assignedOn ;
    ldom:extension [
      ldom:langauge &lt;http://www.w3.org/Submission/spin-overview/&gt; ;
      ldom:action """
      ASK {
        ?this ex:reportedOn ?submDt .
        ?this ex:assignedOn ?assnDt .
        FILTER (?submDt != ?assnDt) .
      }
      """ ] ;
  ] .</pre>
				<p class="todo">
					Open issue: Many people find it confusing that the expression seems to work
					"backwards" and only find the counter-examples.  So the term "constraint"
					might be misleading.  An alternative name "exception" has been proposed
					(although this term has a different meaning in programming languages).
					Furthermore, many values of ldom:constraint are in fact template calls,
					and the user doesn't even see the SPARQL query (e.g. ldon:minCount uses
					a positive direction even if its internal SPARQL query checks for counter-examples).
				</p>
				<p>
					The example above uses SPARQL to implement an executable test.
					The SPARQL query must return <code>true</code> if the condition is violated, using the variable
					<code>?this</code> to refer to the currently tested instance.
					The property <code>ldom:constraint</code> is linking a class with the additional
					constraints that it needs to fulfill.
					Each of the values of <code>ldom:constraint</code> can have a <code>ldom:sparql</code>
					query (ASK, SELECT or CONSTRUCT), or they can be instances of Templates as shown
					<a href="#template-constraints">later</a>.
					In SPARQL-based constraints, the properties <code>ldom:message</code>, <code>ldom:path</code>
					and	<code>ldom:level</code> (with values <code>ldom:Error</code>,
					<code>ldom:Warning</code> and <code>ldom:FatalError</code>) can be used to provide
					additional information on the constraint violation.
				</p>
				<p>
					As alternatives to ASK, you can use SPARQL SELECT or CONSTRUCT queries to take more
					control over which constraint violations to create.
					While a little bit more verbose, one advantage of those syntaxes is greater flexibility
					in how to build error messages etc.
					The following example implements the same error condition as shown above, but using
					a CONSTRUCT query.  An example of SELECT-based constraints can be found
					<a href="#global-constraints">below</a>.
				</p>
	    		<pre class="example">
ex:IssueShape a ldom:Shape ;
  ldom:property [
    ldom:predicate ex:reportedOn ;
    ldom:valueType xsd:dateTime ;
    ldom:minCount 1 ; ldom:maxCount 1
  ] ;
  ldom:property [
    ldom:predicate ex:assignedOn ;
    ldom:valueType xsd:dateTime ;
    ldom:minCount 1
  ] .
  ldom:constraint [
    ldom:extension [
      ldom:langauge &lt;http://www.w3.org/Submission/spin-overview/&gt; ;
      ldom:action """
			CONSTRUCT {
				_:cv a ldom:Error ;
					ldom:root ?this ;
					ldom:message "issues can't be assigned before they're reporeted" ;
					ldom:path ex:reportedOn ;
					ldom:path ex:assignedOn 
			}
			WHERE {
        ?this ex:reportedOn ?submDt .
        ?this ex:assignedOn ?assnDt .
        FILTER (?submDt != ?assnDt) .
      }
      """ ] ;
  ] .</pre>
			</section>
			<section id="global-constraints">
				<h3>Global Constraints</h3>
				<p>
					In some cases, it is necessary to define constraints that are not scoped to a shape
					but rather apply globally.
					These can be expressed by instantiating <code>ldom:GlobalConstraint</code>,
					as shown in the following example.
				</p>
				<pre class="example">
ex:MyConstraint
	a ldom:GlobalConstraint ;
	ldom:message "Deprecated properties should not be used anywhere." ;
	ldom:level ldom:Warning ;
	ldom:sparql """
			SELECT ?root ?predicate ?value
			WHERE {
				?root ?predicate ?value .
				?predicate owl:deprecated ?any .
			}
		""" ;
.</pre>
				<p>
					By default, these constraints are assumed to have a SPARQL query, but
					it is also possible to instantiate templates.
					Global constraints should be named with a URI (in this example: <code>ex:MyConstraint</code>)
					so that they are easier to reference and manage.
				</p>
			</section>
    	</section>
<!--    	
    	<section id="templates">
    		<h2>Templates</h2>
    		<p>
    			LDOM Templates are "boxed" queries that can be used as values of
    			<code>ldom:constraint</code> and <code>ldom:property</code>
    			(as well as <code>ldom:rule</code> if that gets included into the standard).
    			The role of a template is to encapsulate a reusable piece of SPARQL logic
    			so that users do not need to reinvent the wheel.
    			Templates hide the complexity of the underlying SPARQL query and are therefore
    			suitable for people who are not familiar with SPARQL.
    			The following example declares a LDOM template that can be used for
    			constraints to express that the values of a given property shall be
    			greater than 0. 
    		</p>
    		<pre class="example">
ex:PositivePropertyValueConstraint
	a ldom:ConstraintTemplate ;
	rdfs:subClassOf ldom:TemplateConstraint ;
	rdfs:label "Positive property value constraint" ;
	ldom:labelTemplate "Values of property {?property} must be &gt; 0" ;
	rdfs:comment """
		A template that can be used to define a LDOM constraint on a given property
		(ex:property) to make sure that the values of that property are &gt; 0.
		""" ;
	ldom:argument [
		ldom:predicate ex:property ;
		ldom:valueType rdf:Property ;
		rdfs:comment "The property to constrain (e.g. ex:width or ex:height)." ;
	] ;
	ldom:sparql """
		SELECT (?property AS ?path) ?message
		WHERE {
			?this ?property ?value .
			FILTER (?value &lt;= 0) .
			BIND (CONCAT("Property ", ldom:label(?property), 
				" must only have positive values, but found ",
				xsd:string(?value)) AS ?message) .
		}
		""" ;
.</pre>
  			<p>
  				In the example above, the template takes an argument, as specified by the
  				<code>ldom:argument</code>.  This argument is represented by a value of
  				the property <code>ex:property</code> which is mapped to the variable
  				<code>?property</code> when the query executes.
  				Here is an example that instantiates, or "calls", the template to
  				define constraints on the properties ex:width and ex:height for all instances
  				of the class ex:Rectangle.
  			</p>
  			<pre class="example">
ex:Rectangle
	...
	ldom:constraint [
		a ex:PositivePropertyValueConstraint ;
		ex:property ex:height ;
	] ;
	ldom:constraint [
		a ex:PositivePropertyValueConstraint ;
		ex:property ex:width ;
	] .</pre>
    		<p>
    			When a LDOM engine encounters such a constraint definition, it will
    			execute the <code>ldom:sparql</code> body of the template and pre-bind the declared
    			argument variables with the values specified in the template call.
    			In the case of <code>ex:height</code>, the template's body basically becomes the following,
    			where every appearance of the variable <code>?property</code> has been replaced with
    			the constant ex:height.
    		</p>
    		<pre class="example">
SELECT (ex:height AS ?path) ?message
WHERE {
	?this ex:height ?value .
	FILTER (?value &lt;= 0) .
	BIND (CONCAT("Property ", ldom:label(ex:height), 
		" must only have positive values, but found ", xsd:string(?value)) AS ?message) .
}</pre>
			<p>
				LDOM templates make it possible to create libraries of reusable constraints
				and rules (and other use cases), so that users do not need to learn SPARQL.
				The LDOM standard comes with several of such reusable constraints including
				<code>ldom:PropertyConstraint</code> and <code>ldom:Argument</code>
				which is used by LDOM itself to declare the arguments of templates.
			</p>
			<p>
				The example above highlights that LDOM templates can be used to create higher-level
				modeling languages that introduce constructs such as the
				<code>ex:PositivePropertyValueConstraint</code> above together
				with semantics that are executable by any LDOM-compliant engine.
				At the same time, high-level elements such as the property declarations can also be used by
				other engines that do not necessarily rely on SPARQL.
			</p>
			
			<section id="profiles">
				<h3>Profiles</h3>
				<p>
					Some applications may only support certain templates as a controlled
					vocabulary.  For example, a JavaScript client form engine may only
					support property definitions with value type and min/max cardinality.
					The class <code>ldom:Profile</code> can represent such sets of templates,
					as illustrated in the following example.
					Here, an application could use the profile <code>ex:SimpleFormProfile</code>
					to display warnings if an incoming LDOM model uses features outside of
					its profile.  
				</p>
				<pre class="example">
ex:SimpleFormProfile
	a ldom:Profile ;
	ldom:member ldom:AbstractCountPropertyConstraint ; # defines ldom:min/maxCount
	ldom:member ldom:AbstractValueTypePropertyConstraint . # defines ldom:valueType</pre>
			</section>
			
    	</section>
    	
    	<section id="functions">
    		<h2>Functions</h2>
    		<p>
    			LDOM Functions are similar to Templates in their syntax, but they are used to
    			declare new SPARQL functions based on an encapsulated, reusable query.
    			The following snippet defines a function <code>ex:computeArea</code> that takes
    			a Rectangle as its argument and returns an integer that is the result of
    			multiplying the Rectangle's width with its height.
    		</p>
    		<pre class="example">
ex:computeArea
	a ldom:Function ;
	rdfs:subClassOf ldom:Functions ;
	rdfs:label "compute area" ;
	rdfs:comment "Computes the area of a given rectangle (?arg1) as the product of its width and height." ;
	ldom:argument [
		ldom:predicate ldom:arg1 ;
		ldom:valueType ex:Rectangle ;
		rdfs:comment "The rectangle whose area to compute." ;
	] ;
	ldom:sparql """
		SELECT ((?width * ?height) AS ?result)
		WHERE {
			?arg1 ex:width ?width .
			?arg1 ex:height ?height .
		}
		""" ;
	ldom:returnType xsd:integer ;
.</pre>
  			<p>
  				In LDOM-compliant SPARQL processors, this new function can be used such as
  				in the following example:
  			</p>
  			<pre class="example">
SELECT *
WHERE {
    ?rectangle a ex:Rectangle .
    FILTER (ex:computeArea(?rectangle) &gt;= 100) .
}</pre>
  			<p>
  				LDOM functions have a SELECT query as their body, and this query needs to have one
  				result variable (here: <code>?result</code>).  The first binding of this variable will be used
  				as result of the function execution.  The execution mechanism is illustrated in the
  				following diagram.
  			</p>
      		<img style="margin-left: 23px" src="images/computeArea-function.png"></img>
    	</section>
    	
    	<section id="derived-properties">
    		<h2>Derived Properties</h2>
    		<p>
    			LDOM includes a special kind of property constraints for properties that
    			are computed (or derived or inferred) from other values.
    			A good example of this is the <code>ex:area</code> property for rectangles: 
    		</p>
    		<pre class="example">
ex:Rectangle
	...
	ldom:property [
		<b>a ldom:DerivedPropertyConstraint ;</b>
		ldom:predicate ex:area ;
		ldom:maxCount 1 ;
		<b>ldom:sparql "ex:computeArea(?this)" ;</b>
		ldom:valueType xsd:integer ;
		rdfs:label "area" ;
		rdfs:comment "The area of the Rectangle, defined as the product of width x height." ;
	] ;</pre>
			<p>
				The <code>ldom:DerivedPropertyConstraint</code> above will flag a constraint
				violation if the value of <code>ex:area</code> is not equal to the result
				of the provided SPARQL expression.
			</p>
			<p>
				Some LDOM implementations may also chose to use constraints of this type in a constructive
				way, to automatically compute missing values (but this is not covered by the standard).
			</p>
    	</section>
    	
    	<section id="rules">
    		<h2>Rules</h2>
    		<p class="todo">
    			(Unclear whether the WG will include inferencing, so this feature is at risk)
    		</p>
    		<p>
    			LDOM makes it possible to attach executable rules to classes.
    			Rules are represented as SPARQL CONSTRUCT queries that apply to all instances
    			of the associated class and its subclasses.
    			In those rules, the variable <code>?this</code> refers to each instance of those classes.
    			A LDOM execution engine will make sure that ?this has the correct values.
    			The triples that are constructed by such a rule become "inferred" and are added
    			to the RDF graph, so that other rules can "see" the new triples.
    			In the following example, the value of ex:area gets computed by multiplying
    			the values of ex:width and ex:height.
    		</p>
    		<pre class="example">
ex:Rectangle
	ldom:rule [
		ldom:sparql """
			CONSTRUCT {
				?this ex:area ?area .                 # Infer ?area as a value of ex:area
			}
			WHERE {
				?this ex:width ?width .               # Get the width of ?this Rectangle
				?this ex:height ?height .             # Get the height of ?this Rectangle
				BIND ((?width * ?height) AS ?area) .  # Compute area := width * height
			}
		""" ;
	] .</pre>
    		<p>
    			The property <code>ldom:rule</code> is used to link a class with a rule.
    			The values of this property must be either CONSTRUCT queries or template calls
    			that wrap a CONSTRUCT query.
    		</p>
    	</section>
    	
    	<section id="contexts">
    		<h2>Contexts</h2>
    		<p>
    			LDOM constraints can be grouped into contexts - URIs that have the type
				<code>ldom:Context</code>.
				This makes it possible to indicate that certain constraints shall not
				apply by default, but only for certain applications or user communities.
				The property <code>ldom:context</code> links an <code>ldom:Constraint</code>
				with a context:
    		</p>
    		<pre class="example">
ex:Rectangle
	ldom:property [
		ldom:predicate dct:publisher ;
		ldom:minCount 1 ;
		ldom:context &lt;http://example.org/trackable&gt;
	] .</pre>
			<p>
				In the example above, the class <code>ex:Rectangle</code> has been extended
				with a minimum cardinality constraint on the property <code>dct:publisher</code>.
				This constraint is applicable in the provided <code>ldom:context</code> only,
				which means that it does not apply by default.
				However, certain applications that process <code>ex:Rectangle</code> instances
				can trigger the constraint checking in a context that includes all default
				constraints plus the extra constraints from the <code>http://example.org/trackable</code>
				context.
			</p>
			<p>
				The operation that triggers the constraint checking can take included and excluded
				contexts as argument.  Contexts can be organized into hierarchies using
				<code>ldom:subContextOf</code>, which means that whenever a super-context is requested
				then all constraints from its sub-contexts also apply.
				The built-in URI <code>ldom:DefaultContext</code> can be used to specify the default
				context, and that is also the default value if <code>ldom:context</code> is unspecified.
			</p>
    	</section>
-->    	
    	<section id="graphs">
    		<h2>Graph Management</h2>
    		<p>
    			LDOM shapes are typically organized in RDF graphs (e.g. stored as files or
    			named graphs on a database).
    			These graphs usually have a URI that helps a system resolve the graph when
    			it is requested.
    			Each LDOM graph may declare an instance of <code>ldom:Graph</code>
    			that has the graph URI as its URI and contains information about the graph itself,
    			including a human-readable label and comments. 
    		</p>
    		<p>
    			For constraint checking and rule execution, LDOM definitions often need to reference
    			other graphs that either contain additional classes, properties and instances,
    			or that may declare templates, rules and constraints that are needed at run-time.
    			LDOM graphs may reference each other via two dedicated properties:
    		</p>
    		<ul>
    			<li>
    				<code>ldom:include</code> links a graph with other graphs that shall be included
    				into the query graph over which LDOM constraints and rules are executed.
    				This is a transitive property, i.e. includes of includes are also added.
    			</li>
    			<li>
    				<code>ldom:library</code> links a graph with other (library) graphs that shall be
    				included into the control graph that includes template definitions.
    			</li>
    		</ul>
    		<p>
    			The separation between the graph closures via <code>ldom:include</code> and
    			<code>ldom:library</code> allows LDOM users and implementations to optimize performance
				because they can exclude certain (library) graphs from the union graph that is used
				by the SPARQL engine.
				Furthermore, editing and display tools may chose to hide library graphs as they often
				contain rather low-level information that is not of interest to average users. 
    		</p>
    	</section>
    	
    	<section id="test-cases">
    		<h2>Test Case Vocabulary</h2>
    		<p>
    			It is a well-established practice in software development to define test cases that
    			formalize the expected behavior of a piece of code.  In the same spirit, LDOM includes
    			a simple vocabulary to represent constraint checking scenarios together with expected
    			constraint violations.  These can be used by developers to ensure that the constraint
    			definitions are correct, and remain correct as the data evolves.
    		</p>
    		<p>
    			Due to space considerations, this Primer only covers a small example test case to
    			illustrate the syntax.  For details, see the yet-to-be-written formal specification.
    			The example below instructs the LDOM engine to verify that the given
    			resource <code>ex:Father</code> from the given <code>ldom:graph</code>
    			shall be checked for constraints.  The test passes "green" if the outcome is exactly
    			one constraint violation that is structurally equivalent to the provided
    			<code>ldom:violation</code>.
    		</p>
    		<pre class="example">
ex:TestCase
	a ldom:ResourceConstraintCheckingTestCase ;
	ldom:check ex:Father ;
	ldom:graph &lt;http://www.w3.org/ns/ldom/test/constraint-inverse-001&gt; ;
	ldom:ignore ldom:message ;
	ldom:violation [
		a ldom:Error ;
		ldom:root ex:Father ;
		ldom:path [ ldom:inverse ex:child ] ;
	] .</pre>
    	</section>
    	
    	<section id="other-languages">
    		<h2>Relationships with other Languages</h2>
    		<p>
    			The design of LDOM was influenced by a number of other languages.
    		</p>
    		
    		<section id="spin">
	    		<h3>SPIN</h3>
	    		<p>
	    			LDOM can be regarded as the next generation of the
	    			<a href="http://spinrdf.org">SPARQL Inferencing Notation (SPIN)</a>.
	    			SPIN had introduced the concept of attaching SPARQL-based constraints and rules to classes,
	    			of Templates, user-defined Functions and template libraries.
	    			Notable differences from SPIN include:
	    		</p>
	    		<ul>
	    			<li>
	    				<code>spin:constraint</code> was split into <code>ldom:property</code>,
	    				<code>ldom:argument</code> and <code>ldom:constraint</code>,
	    				to clarify that some constraints are rather structural information, and as
	    				syntactic sugar. 
	    			</li>
	    			<li>
	    				<code>spl:Attribute</code> was promoted into a core feature, as
	    				<code>ldom:PropertyConstraint</code>.
	    			</li>
	    			<li>
	    				SPARQL constraints can now also be SELECT queries.
	    			</li>
	    			<li>
	    				More elegant ASK and SELECT syntax, less need for geeky CONSTRUCT syntax.
	    			</li>
	    			<li>
	    				Explicit graph management, separating graphs that are needed for control
	    				purposes from those needed at query time (<code>ldom:Graph</code>, <code>ldom:library</code>,
	    				<code>ldom:include</code>). 
	    			</li>
	    			<li>
	    				Cleaned up meta-model including a shared superclass for constraints and path expressions.
	    			</li>
	    			<li>
	    				Built-in TestCase framework.
	    			</li>
	    			<li>
	    				No SPIN RDF syntax - LDOM only supports the easier to type in SPARQL strings.
	    			</li>
	    			<li>
	    				<code>sp:text</code> has become <code>ldom:sparql</code>, anticipating that other
	    				languages may follow in the future.
	    			</li>
	    		</ul>
    		</section>

			<section id="resource-shapes">
	    		<h3>Resource Shapes</h3>
	    		<p>
					<a href="http://www.w3.org/Submission/2014/SUBM-shapes-20140211/">Resource Shapes 2.0</a>
					looks very similar to the structural constraints defined using ldom:property.
					Here is a rough mapping between the vocabularies:
	    		</p>
	    		<table style="border-collapse: collapse; border-color: #000000" border="1" cellpadding="5">
	    			<tr>
	    				<th>Resource Shapes</th>
	    				<th>LDOM</th>
	    			</tr>
	    			<tr>
	    				<td><code>oslc:property</code></td>
	    				<td><code>ldom:property</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>oslc:Property</code></td>
	    				<td><code>ldom:PropertyConstraint</code> (implicit)</td>
	    			</tr>
	    			<tr>
	    				<td><code>oslc:propertyDefinition</code></td>
	    				<td><code>ldom:predicate</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>oslc:defaultValue</code></td>
	    				<td><code>ldom:defaultValue</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>oslc:occurs</code></td>
	    				<td><code>ldom:minCount</code>, <code>ldom:maxCount</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>oslc:range</code>, <code>oslc:valueType</code></td>
	    				<td><code>ldom:valueType</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>oslc:valueShape</code></td>
	    				<td><code>ldom:all</code>, <code>ldom:some</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>oslc:allowedValues</code></td>
	    				<td><code>ldom:allowedValues</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>dcterms:title</code></td>
	    				<td><code>rdfs:label</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>dcterms:description</code></td>
	    				<td><code>rdfs:comment</code></td>
	    			</tr>
	    		</table>
	    	</section>

			<section id="shex">
	    		<h3>ShEx</h3>
	    		<p>
	    			<a href="http://www.w3.org/Submission/shex-primer/">ShEx</a> borrows and expands
	    			on many ideas of Resource Shapes, focusing on nested shape declarations.
	    			A unique feature of ShEx is the <a href="http://www.w3.org/2001/sw/wiki/ShEx">ShExC</a>
	    			compact syntax.
	    			A large subset of this syntax could be mapped onto LDOM templates such as
	    			<code>ldom:ShapeConstraint</code>.
	    		</p>
			</section>    		
<!--
			<section id="rdf-schema">
	    		<h3>RDF Schema</h3>
	    		<p>
	    			LDOM directly reuses some of the main concepts of
	    			RDF Schema [[rdf-schema]] models: <code>rdfs:Resource</code>, <code>rdfs:Class</code>,
	    			<code>rdfs:subClassOf</code>, <code>rdf:type</code>, <code>rdf:Property</code> and
	    			<code>rdfs:Literal</code> (and the built-in datatypes).
	    			LDOM relies on class inheritance via <code>rdfs:subClassOf</code> to figure out which
	    			constraints	to fire, and which properties to inherit, and on <code>rdf:type</code> to link
	    			instances with their class definitions.
	    			RDF's concept of Linked Data applies to LDOM too, e.g. LDOM engines could look up the
	    			definitions of templates and functions by resolving	their URIs.
	    		</p>
	    		<p>
	    			LDOM does not give any special meaning to all other RDF Schema terms including
	    			<code>rdfs:subPropertyOf</code>, <code>rdfs:range</code> and <code>rdfs:domain</code>,
	    			which means that these are ignored by the standard LDOM semantics.
	    			However, it would be possible to define LDOM constraints that interpret 
	    			selected RDFS vocabulary with closed-world semantics, if that is desirable within
	    			certain contexts.
	    		</p>
	    		<p>
	    			In LDOM it is theoretically not necessary to define rdf:Properties as stand-alone
	    			entities - their declaration is optional because all relevant information about
	    			the property can be regarded as local to the associated classes only.
	    		</p>
	    		<p>
	    			Overall, it is perfectly fine to mix existing RDF Schemas with LDOM declarations,
	    			either in the same graph or in multiple graphs that reference each other.
	    			This way, hybrid models can be created that are interpreted with the traditional
	    			open-world semantics of RDF Schema in some scenarios, or the closed-world semantics
	    			of LDOM in other use cases.
	    			The bulk of instance data can be reused between both worlds.
	    		</p>
			</section>    		
-->
			<section id="rdfsowl">
	    		<h3>RDFS and OWL</h3>
          <p>
            RDFS and <a href="http://www.w3.org/2001/sw/wiki/OWL">Web Ontology Language (OWL)</a> associate RDF predicates with classes, which may stand for anything, including real-world entities or records.
            Nodes in RDF graphs may be associated with zero or more classes, but will generally use properties which are or could be defined in an ontology.
            LDOM defines patterns of RDF arcs, which may include predicates from one or more ontologies.
          </p>
<!--
	    		<p>
	    			The <a href="http://www.w3.org/2001/sw/wiki/OWL">Web Ontology Language (OWL)</a>
	    			extends RDF Schema and its original open-world design with a focus on classification
	    			problems.  The attachment of restrictions to classes is very similar to LDOM.
	    			Designing complex class definitions by combining restrictions and other class
	    			constructors resembles the concept of nested shapes in ShEx
	    			(and ldom:all and ldom:some).
	    		</p>
	    		<p>
	    			Like with RDF Schema, it is possible to build OWL ontologies that also include LDOM
	    			constructs as an additional feature.  This also means that the basic structure of
	    			most OWL ontologies and their instances can be reused from a LDOM perspective.
	    			There are also several implementations of a subset of OWL with closed-world semantics
	    			in SPIN, which can be converted to LDOM.
	    			LDOM's foundation on SPARQL means that OWL models can be enriched with frequently
	    			needed features such as string and mathematical operations, and complex conditions
	    			that require variables. 
	    		</p>
-->
	    		<p>
	    			Here is a rough comparison between LDOM elements and their OWL equivalents,
	    			assuming a closed-world interpretation of OWL.
	    		</p>
	    		<table style="border-collapse: collapse; border-color: #000000" border="1" cellpadding="5">
	    			<tr>
	    				<th>OWL</th>
	    				<th>LDOM</th>
	    			</tr>
	    			<tr>
	    				<td><code>rdfs:subClassOf</code> an <code>owl:Restriction</code></td>
	    				<td><code>ldom:property</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>owl:onProperty</code></td>
	    				<td><code>ldom:predicate</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>owl:minCardinality</code></td>
	    				<td><code>ldom:minCount</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>owl:maxCardinality</code></td>
	    				<td><code>ldom:maxCount</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>owl:allValuesFrom</code></td>
	    				<td><code>ldom:all</code> or <code>ldom:valueType</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>owl:someValuesFrom</code></td>
	    				<td><code>ldom:some</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>owl:oneOf</code></td>
	    				<td><code>ldom:allowedValues</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>owl:hasKey</code> (without URI rule)</td>
	    				<td><code>ldom:PrimaryKeyPropertyConstraint</code></td>
	    			</tr>
	    		</table>
			</section>    		

			<section id="rdfunit">
	    		<h3>RDFUnit</h3>
	    		<p>
	    			The discussions in the Shapes WG led to refinements of the constraint violation
	    			syntax that also exist in <a href="http://aksw.org/Projects/RDFUnit.html">RDFUnit</a>.
	    			Also, RDFUnit has a notion of TestCases which inspired the design of the
	    			<code>ldom:TestCase</code> class. Furthermore, the concept of <code>ldom:Context</code>
	    			borrows ideas from the RDFUnit properties appliesTo and source. 
	    		</p>
			</section>    		
    		
    	</section>
        <script type="application/javascript">
        function updateLang () {
          $(".schema."+$('#langOptions input[name=presLang]').not(":checked").val()).hide();
          $(".schema."+$('#langOptions input[name=presLang]:checked')        .val()).show();
        }
        function adjustHeight (from, to) {
          var visibleTop = $(window).scrollTop();
          var all = $(".schema."+from);
          var adj = 0;
          for (var i = 0; i < all.length; ++i) {
            var elt = all.slice(i, i+1);
            if (elt.offset().top >= visibleTop)
              break;
            adj += elt.siblings("."+to).height() - elt.height();
          }
          $(window).scrollTop($(window).scrollTop() + adj);
        }
        $('#langOptions input[name=presLang]').change(updateLang)
        $(".schema."+$('#langOptions input[name=presLang]').not(":checked").val()).hide();
        $("html > body").keypress(function (evt) {
          var langs = $('#langOptions input[name=presLang]');
          switch (evt.which) {
            case 74: case 106:
              if(!langs.filter("[value=json-ld]").is(':checked')) {
                adjustHeight($('input[name=presLang]:checked', '#langOptions').val(), "json-ld");
                langs.filter("[value=json-ld]").prop('checked', true); // .change() did nothing
                updateLang();
              }
              return false;
            case 84: case 116:
              if(!langs.filter("[value=turtle]").is(':checked')) {
                adjustHeight($('input[name=presLang]:checked', '#langOptions').val(), "turtle");
                langs.filter("[value=turtle]").prop('checked', true);
                updateLang();
              }
              return false;
            default:
              return true;
          }
        });
        </script>
  	</body>
</html>
