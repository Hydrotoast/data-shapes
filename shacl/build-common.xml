<?xml version="1.0" encoding="UTF-8"?>
<project name="GenerateVocabulariesCommon">
	<description>
            Generate vocabulary documents from RDF.
    </description>

	<!-- stylesheet.dir is the directory that stores the stylesheets -->
	<property name="stylesheet.dir" location="." />

	<!-- vocabulary-jazz.xsl is the latest W3C stylesheet -->
	<property name="vocabulary-w3c.xsl" location="${stylesheet.dir}/vocabulary-w3c.xsl" />

	<!-- jena.lib.dir is the directory that stores all the Jena jar files. -->
	<property name="jena.lib.dir" location="/Users/arthurryman/apache-jena-2.10.1/lib" />

	<!-- jena.classpath is the CLASSPATH for Jena commands. -->
	<path id="jena.classpath">
		<fileset dir="${jena.lib.dir}">
			<include name="*.jar" />
		</fileset>
	</path>

	<!-- saxon.lib.dir is the directory that stores all the Saxon jar files. -->
	<property name="saxon.lib.dir" location="/Users/arthurryman/SaxonHE9-5-1-2J" />

    <!-- saxon.classpath is the CLASSPATH for Saxon. -->
    <path id="saxon.classpath">
        <fileset dir="${saxon.lib.dir}">
            <include name="*.jar" />
        </fileset>
    </path>


    <!-- = = = = = = = = = = = = = = = = =
          macrodef: ttl2xml - convert Turtle to non-abbreviated RDF/XML
         = = = = = = = = = = = = = = = = = -->
	<macrodef name="ttl2xml">
		<attribute name="model" />
		<sequential>
			<java classpathref="jena.classpath" classname="jena.rdfcopy" fork="true" maxmemory="1024m" output="@{model}.rdf">
				<arg value="@{model}.ttl" />
				<arg value="TURTLE" />
				<arg value="RDF/XML" />
			</java>
		</sequential>
	</macrodef>

	<macrodef name="ttl2html">
		<attribute name="model" />
		<attribute name="site" />
		<sequential>
			<ttl2xml model="@{model}" />
			<xslt classpathref="saxon.classpath" style="${vocabulary-@{site}.xsl}" in="@{model}.rdf" out="@{model}.html" force="yes" />
		</sequential>
	</macrodef>

</project>
